<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Plist4r::Backend</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/custom.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<base id="base_target" target="_top" />
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/autocomplete.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/live.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
		
			<a href="../object_index.html" target="_self" title="Index (B)">Index (B)</a>
		 &raquo;
    <span class='title'><a href="../Plist4r.html" target="_self" title="Plist4r (module)">Plist4r</a></span>
     &raquo; 
    <span class="title">Backend</span>
  
  
  <div class="noframes">
    <span class="title"></span>
    <a id="frames_link" class="link_disabled">Frames</a> | 
    <a target="_top" id="noframes_link" class="link_disabled">No Frames</a>
    <span class="title"></span>
  </div>
</div>

      <div id="search2">
  
  
  <div class="search2_center">
    <form class="search2" onsubmit="return false;" action="">
      <input name="q" type="search" placeholder="Search" id="search_box2" size="30" value="" />
    </form>
  </div>
  <script type="text/javascript" charset="utf-8"> 
    $('#search_box2').focus(function(){
      var search_index = relpath + 'search_index.json';
      jQuery.getJSON(search_index, go_data);

      function go_data(adata) {
        $('#search_box2').autocomplete(adata, {
          width: 300,
          matchContains: true,
          formatItem: function(item) {
            return item.text;
          }
        }).result(function(event, item) {
					if (window.location.search) {
	          window.location.href = relpath + $(item.href_tag).attr("href");
					} else {
	          location.href = relpath + $(item.href_tag).attr("href");
					}
        });
      }
    });
  </script> 
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Plist4r::Backend
  
  
  
</h1>

<div id="info_box">
  <dl class="box">
    
      
    
      
    
  
    <dt class="r1 last">Defined in:</dt>
		<dd class="r1 last">
  		
  lib/plist4r/backend.rb<span class="defines">,<br />
    lib/plist4r/backend_base.rb,<br /> lib/plist4r/backend/test/data.rb,<br /> lib/plist4r/backend/test/output.rb,<br /> lib/plist4r/backend/test/harness.rb</span>


		</dd>
  </dl>
</div>
<div class="clear"></div>

<div id="subclasses">
  <h3 class="inherited">Direct Known Subclasses</h3>
  <ul id="classes_ribbon">
  
  
    <li class="r1"><a href="Backend/Test/Harness.html" target="_self" title="Plist4r::Backend::Test::Harness (class)">Backend::Test::Harness</a></li>
    
  
  </ul>
</div>
<p class="children">
   
    
			<h3 class="inherited">Modules</h3>
	    <ul id="modules_ribbon">
	    
	    
	      <li class="r1"><a href="Backend/Example.html" target="_self" title="Plist4r::Backend::Example (module)">Example</a></li>
	      
	    
	      <li class="r2"><a href="Backend/Haml.html" target="_self" title="Plist4r::Backend::Haml (module)">Haml</a></li>
	      
	    
	      <li class="r1"><a href="Backend/Libxml4r.html" target="_self" title="Plist4r::Backend::Libxml4r (module)">Libxml4r</a></li>
	      
	    
	      <li class="r2"><a href="Backend/OsxPlist.html" target="_self" title="Plist4r::Backend::OsxPlist (module)">OsxPlist</a></li>
	      
	    
	      <li class="r1"><a href="Backend/RubyCocoa.html" target="_self" title="Plist4r::Backend::RubyCocoa (module)">RubyCocoa</a></li>
	      
	    
	      <li class="r2"><a href="Backend/Test.html" target="_self" title="Plist4r::Backend::Test (module)">Test</a></li>
	      
	    
	    </ul>
    
   
    
  
</p>

	<h3 class="inherited">Instance Methods</h3>
	    <ul id="methods_ribbon">
	    
	    
	      <li class="r1"><a href="#call-instance_method" target="_self" title="Plist4r::Backend#call (method)">call</a></li>
	      
	    
	      <li class="r2"><a href="#generic_call-instance_method" target="_self" title="Plist4r::Backend#generic_call (method)">generic_call</a></li>
	      
	    
	      <li class="r1"><a href="#initialize-instance_method" target="_self" title="Plist4r::Backend#initialize (method)">initialize</a></li>
	      
	    
	    </ul>


<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
This class is the Backend broker. The purpose of this object is to manage
and handle API calls, passing them over to the appropriate Plist4r
backends.
</p>


  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="ApiMethods-constant" class="">ApiMethods =
          <div class="docstring">
  <div class="discussion">
    <p>
The list backend API methods. A Plist4r::Backend should implement 1 or more
of these methods
</p>


  </div>
</div>
<div class="tags">
  
  <h3>See Also:</h3>
  <ul class="see">
    
      <li><a href="Backend/Example.html" target="_self" title="Plist4r::Backend::Example (module)">Example</a></li>
    
  </ul>

</div>
        </dt>
        <dd><pre class="code"><span class='dstring node'>%w[ from_xml from_binary from_gnustep to_xml to_binary to_gnustep ]</span>
</pre></dd>
      
        <dt id="PrivateApiMethods-constant" class="">PrivateApiMethods =
          <div class="docstring">
  <div class="discussion">
    <p>
The set of Plist4r API methods which are generated by the <tt><a href="#generic_call-instance_method" target="_self" title="Plist4r::Backend#generic_call (method)">#generic_call</a></tt>
method These methods don&#8217;t need to be implemented by a
Plist4r::Backend
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='dstring node'>%w[ from_string open save ]</span>
</pre></dd>
      
        <dt id="PlistCacheApiMethods-constant" class="">PlistCacheApiMethods =
          <div class="docstring">
  <div class="discussion">
    <p>
The set of Plist4r API methods with are invoked by <tt><a href="PlistCache.html" target="_self" title="Plist4r::PlistCache (class)">Plist4r::PlistCache</a></tt>
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='dstring node'>%w[from_string to_xml to_binary to_gnustep open save]</span>
</pre></dd>
      
    </dl>
  


<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first" id="initialize-instance_method">
  <p class="signature first"">
  
    - (<tt><a href="" target="_self" title="Plist4r::Backend (class)">Backend</a></tt>) <strong>initialize</strong>(plist, *args, &amp;blk) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A new instance of Backend. A single Backend will exist for the the life of
the Plist object. The attribute @plist is set during initialization and
refers back to the plist instance object.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/plist4r/backend.rb', line 23</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span> <span class='plist identifier id'>plist</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span>
  <span class='@plist ivar id'>@plist</span> <span class='assign token'>=</span> <span class='plist identifier id'>plist</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>

  
</div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first" id="call-instance_method">
  <p class="signature first"">
  
    - (<tt><a href="../Object.html" target="_self" title="Object (class)">Object</a></tt>) <strong>call</strong>(method_sym) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Call a Plist4r API Method. Here, we usually pass a <tt><a href="Plist.html" target="_self" title="Plist4r::Plist (class)">Plist4r::Plist</a></tt> object
as one of the parameters, which will also contain all the input data to
work on.
</p>
<p>
This function loops through the array of available backends, and calls the
first backend found to implement the appropriate fullfilment request.
</p>
<p>
If the request fails, the call is re-executed on the next available
backend.
</p>
<p>
The plist object is updated in-place and also usually placed as the return
argument.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <span class='name'>method_sym</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The API method call to execute
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
if no backend was able to sucessfully execute the request.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/plist4r/backend.rb', line 87</span>

<span class='def def kw'>def</span> <span class='call identifier id'>call</span> <span class='method_sym identifier id'>method_sym</span>
  <span class='comment val'># puts &quot;in call&quot;</span>
  <span class='comment val'># puts &quot;#{method_sym.inspect} #{args.inspect}&quot;</span>
  <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Unsupported api call #{method_sym.inspect}&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='PlistCacheApiMethods constant id'>PlistCacheApiMethods</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='method_sym identifier id'>method_sym</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='exceptions identifier id'>exceptions</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='generic_call_exception identifier id'>generic_call_exception</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

  <span class='@plist ivar id'>@plist</span><span class='dot token'>.</span><span class='backends identifier id'>backends</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='b_sym identifier id'>b_sym</span><span class='bitor op'>|</span>
    <span class='backend identifier id'>backend</span> <span class='assign token'>=</span> <span class='eval identifier id'>eval</span> <span class='dstring node'>&quot;::Plist4r::Backend::#{b_sym.to_s.camelcase}&quot;</span>

    <span class='comment val'># puts @plist.backends.inspect</span>
    <span class='comment val'># puts backend.inspect</span>
    <span class='comment val'># </span>
    <span class='comment val'># puts PrivateApiMethods.inspect</span>
    <span class='comment val'># puts PrivateApiMethods.include?(method_sym).inspect</span>
    <span class='begin begin kw'>begin</span>
      <span class='comment val'># puts Config[:backend_timeout].inspect</span>
      <span class='comment val'># Timeout::timeout(0.3) do</span>
      <span class='Timeout constant id'>Timeout</span><span class='colon2 op'>::</span><span class='timeout identifier id'>timeout</span><span class='lparen token'>(</span><span class='Config constant id'>Config</span><span class='lbrack token'>[</span><span class='symbol val'>:backend_timeout</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='do do kw'>do</span>
        <span class='if if kw'>if</span> <span class='backend identifier id'>backend</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='method_sym identifier id'>method_sym</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='method_sym identifier id'>method_sym</span> <span class='neq op'>!=</span> <span class='symbol val'>:from_string</span>
          <span class='return return kw'>return</span> <span class='backend identifier id'>backend</span><span class='dot token'>.</span><span class='send identifier id'>send</span> <span class='method_sym identifier id'>method_sym</span><span class='comma token'>,</span> <span class='@plist ivar id'>@plist</span>

        <span class='elsif elsif kw'>elsif</span> <span class='PrivateApiMethods constant id'>PrivateApiMethods</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='method_sym identifier id'>method_sym</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
          <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='generic_call identifier id'>generic_call</span> <span class='backend identifier id'>backend</span><span class='comma token'>,</span> <span class='method_sym identifier id'>method_sym</span>
          <span class='if if kw'>if</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='Exception constant id'>Exception</span>
            <span class='generic_call_exception identifier id'>generic_call_exception</span> <span class='assign token'>=</span> <span class='result identifier id'>result</span>
          <span class='else else kw'>else</span>
            <span class='return return kw'>return</span> <span class='result identifier id'>result</span>
          <span class='end end kw'>end</span>
          <span class='return return kw'>return</span> <span class='result identifier id'>result</span> <span class='unless unless_mod kw'>unless</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span> <span class='Exception constant id'>Exception</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>

    <span class='rescue rescue kw'>rescue</span> <span class='LoadError constant id'>LoadError</span>
      <span class='exceptions identifier id'>exceptions</span> <span class='lshft op'>&lt;&lt;</span> <span class='$! gvar id'>$!</span>
    <span class='rescue rescue kw'>rescue</span> <span class='RuntimeError constant id'>RuntimeError</span>
      <span class='exceptions identifier id'>exceptions</span> <span class='lshft op'>&lt;&lt;</span> <span class='$! gvar id'>$!</span>
    <span class='rescue rescue kw'>rescue</span> <span class='SyntaxError constant id'>SyntaxError</span>
      <span class='exceptions identifier id'>exceptions</span> <span class='lshft op'>&lt;&lt;</span> <span class='$! gvar id'>$!</span>
    <span class='rescue rescue kw'>rescue</span> <span class='Exception constant id'>Exception</span>
      <span class='exceptions identifier id'>exceptions</span> <span class='lshft op'>&lt;&lt;</span> <span class='$! gvar id'>$!</span>
    <span class='rescue rescue kw'>rescue</span> <span class='Timeout constant id'>Timeout</span><span class='colon2 op'>::</span><span class='Error constant id'>Error</span>
      <span class='exceptions identifier id'>exceptions</span> <span class='lshft op'>&lt;&lt;</span> <span class='$! gvar id'>$!</span>
    <span class='rescue rescue kw'>rescue</span>
      <span class='exceptions identifier id'>exceptions</span> <span class='lshft op'>&lt;&lt;</span> <span class='$! gvar id'>$!</span>
    <span class='end end kw'>end</span>

    <span class='if if kw'>if</span> <span class='Config constant id'>Config</span><span class='lbrack token'>[</span><span class='symbol val'>:raise_any_failure</span><span class='rbrack token'>]</span> <span class='andop op'>&amp;&amp;</span> <span class='exceptions identifier id'>exceptions</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
      <span class='raise identifier id'>raise</span> <span class='exceptions identifier id'>exceptions</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='exceptions identifier id'>exceptions</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='if if kw'>if</span> <span class='generic_call_exception identifier id'>generic_call_exception</span>
      <span class='raise identifier id'>raise</span> <span class='generic_call_exception identifier id'>generic_call_exception</span>
    <span class='else else kw'>else</span>
      <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Plist4r: No backend found to handle method #{method_sym.inspect}. Could not execute method #{method_sym.inspect} on plist #{@plist.inspect}&quot;</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='comment val'># $stderr.puts &quot;Failure(s) while executing method #{method_sym.inspect} on plist #{@plist}.&quot;</span>
    <span class='exceptions identifier id'>exceptions</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
      <span class='$stderr gvar id'>$stderr</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='inspect identifier id'>inspect</span>
      <span class='$stderr gvar id'>$stderr</span><span class='dot token'>.</span><span class='puts identifier id'>puts</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='backtrace identifier id'>backtrace</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='l identifier id'>l</span><span class='bitor op'>|</span> <span class='dstring node'>&quot;\tfrom #{l}&quot;</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='join identifier id'>join</span> <span class='string val'>&quot;\n&quot;</span>
    <span class='end end kw'>end</span>
    <span class='comment val'># raise exceptions.first</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Failure(s) while executing method #{method_sym.inspect} on plist #{@plist}.&quot;</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>

    
      <div class="method_details " id="generic_call-instance_method">
  <p class="signature "">
  
    - (<tt><a href="../Object.html" target="_self" title="Object (class)">Object</a></tt>) <strong>generic_call</strong>(backend, method_sym) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Implements a generic version of each of the Plist4r Private API Calls.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <span class='name'>backend</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the currently iterated backend from which we will try to generate the API
call
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <span class='name'>method_sym</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The API method call to execute. One of <tt><a href="#PrivateApiMethods-constant" target="_self" title="Plist4r::Backend::PrivateApiMethods (constant)">PrivateApiMethods</a></tt>
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/plist4r/backend.rb', line 30</span>

<span class='def def kw'>def</span> <span class='generic_call identifier id'>generic_call</span> <span class='backend identifier id'>backend</span><span class='comma token'>,</span> <span class='method_sym identifier id'>method_sym</span>
  <span class='case case kw'>case</span> <span class='method_sym identifier id'>method_sym</span>

  <span class='when when kw'>when</span> <span class='symbol val'>:save</span>
    <span class='fmt identifier id'>fmt</span> <span class='assign token'>=</span> <span class='@plist ivar id'>@plist</span><span class='dot token'>.</span><span class='file_format identifier id'>file_format</span> <span class='orop op'>||</span> <span class='Plist4r constant id'>Plist4r</span><span class='colon2 op'>::</span><span class='Config constant id'>Config</span><span class='lbrack token'>[</span><span class='symbol val'>:default_format</span><span class='rbrack token'>]</span>
    <span class='unless unless kw'>unless</span> <span class='backend identifier id'>backend</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span> <span class='dstring node'>&quot;to_#{fmt}&quot;</span>
      <span class='return return kw'>return</span> <span class='Exception constant id'>Exception</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='dstring node'>&quot;Plist4r: No backend found to handle method :to_#{fmt}. Could not execute method :save on plist #{@plist.inspect}&quot;</span>
    <span class='end end kw'>end</span>
    <span class='File constant id'>File</span><span class='dot token'>.</span><span class='open identifier id'>open</span><span class='lparen token'>(</span><span class='@plist ivar id'>@plist</span><span class='dot token'>.</span><span class='filename_path identifier id'>filename_path</span><span class='comma token'>,</span><span class='string val'>'w'</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='out identifier id'>out</span><span class='bitor op'>|</span>
      <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='@plist ivar id'>@plist</span><span class='dot token'>.</span><span class='instance_eval identifier id'>instance_eval</span> <span class='lbrace token'>{</span> <span class='@plist_cache ivar id'>@plist_cache</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='dstring node'>&quot;to_#{fmt}&quot;</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>

  <span class='when when kw'>when</span> <span class='symbol val'>:open</span>
    <span class='unless unless kw'>unless</span> <span class='@open_fmt ivar id'>@open_fmt</span>
      <span class='@plist ivar id'>@plist</span><span class='dot token'>.</span><span class='instance_eval identifier id'>instance_eval</span> <span class='string val'>&quot;@from_string = File.read(filename_path)&quot;</span>
      <span class='@open_fmt ivar id'>@open_fmt</span> <span class='assign token'>=</span> <span class='Plist4r constant id'>Plist4r</span><span class='dot token'>.</span><span class='string_detect_format identifier id'>string_detect_format</span> <span class='@plist ivar id'>@plist</span><span class='dot token'>.</span><span class='from_string identifier id'>from_string</span>
    <span class='end end kw'>end</span>
    <span class='fmt identifier id'>fmt</span> <span class='assign token'>=</span> <span class='@open_fmt ivar id'>@open_fmt</span>
    <span class='if if kw'>if</span> <span class='backend identifier id'>backend</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span> <span class='dstring node'>&quot;from_#{fmt}&quot;</span>
      <span class='@from_string_fmt ivar id'>@from_string_fmt</span> <span class='assign token'>=</span> <span class='@open_fmt ivar id'>@open_fmt</span>
      <span class='@open_fmt ivar id'>@open_fmt</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

      <span class='@plist ivar id'>@plist</span><span class='dot token'>.</span><span class='instance_eval identifier id'>instance_eval</span> <span class='lbrace token'>{</span> <span class='@plist_cache ivar id'>@plist_cache</span><span class='dot token'>.</span><span class='send identifier id'>send</span> <span class='symbol val'>:from_string</span> <span class='rbrace token'>}</span>
    <span class='else else kw'>else</span>
      <span class='return return kw'>return</span> <span class='Exception constant id'>Exception</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='dstring node'>&quot;Plist4r: No backend found to handle method :from_#{fmt}. Could not execute method :open on plist #{@plist.inspect}&quot;</span>
    <span class='end end kw'>end</span>

  <span class='when when kw'>when</span> <span class='symbol val'>:from_string</span>
    <span class='unless unless kw'>unless</span> <span class='@from_string_fmt ivar id'>@from_string_fmt</span>
      <span class='@from_string_fmt ivar id'>@from_string_fmt</span> <span class='assign token'>=</span> <span class='Plist4r constant id'>Plist4r</span><span class='dot token'>.</span><span class='string_detect_format identifier id'>string_detect_format</span> <span class='@plist ivar id'>@plist</span><span class='dot token'>.</span><span class='from_string identifier id'>from_string</span>
    <span class='end end kw'>end</span>
    <span class='fmt identifier id'>fmt</span> <span class='assign token'>=</span> <span class='@from_string_fmt ivar id'>@from_string_fmt</span>
    <span class='if if kw'>if</span> <span class='backend identifier id'>backend</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span> <span class='dstring node'>&quot;from_#{fmt}&quot;</span>
      <span class='@from_string_fmt ivar id'>@from_string_fmt</span> <span class='assign token'>=</span> <span class='nil nil kw'>nil</span>

      <span class='backend identifier id'>backend</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='dstring node'>&quot;from_#{fmt}&quot;</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='comma token'>,</span> <span class='@plist ivar id'>@plist</span><span class='rparen token'>)</span>
      <span class='@plist ivar id'>@plist</span><span class='dot token'>.</span><span class='file_format identifier id'>file_format</span> <span class='fmt identifier id'>fmt</span>
      <span class='@plist ivar id'>@plist</span>
    <span class='else else kw'>else</span>
      <span class='return return kw'>return</span> <span class='Exception constant id'>Exception</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='dstring node'>&quot;Plist4r: No backend found to handle method :from_#{fmt}. Could not execute method :from_string on plist #{@plist.inspect}&quot;</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>

    
  </div>

</div>
    
    <div id="footer">
  Generated on Sun Jul 11 10:31:14 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.8  and the 
  <a href="http://github.com/dreamcat4/yard-slipstream">yard-slipstream</a> plugin
	(ruby-1.8.7).
</div>

  </body>
</html>