<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Plist4r::PlistType::Launchd</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/custom.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/autocomplete.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/live.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../object_index.html">Index (L)</a> &raquo; 
    <span class='title'><a href="../../Plist4r.html" title="Plist4r (module)">Plist4r</a></span> &raquo; <span class='title'><a href="../PlistType.html" title="Plist4r::PlistType (class)">PlistType</a></span>
     &raquo; 
    <span class="title">Launchd</span>
  
  
  <div class="noframes">
    <span class="title"></span>
    <a id="frames_link" class="link_disabled">Frames</a> | 
    <a target="_top" id="noframes_link" class="link_disabled">No Frames</a>
    <span class="title"></span>
  </div>
</div>

      <div id="search2">
  
  
  <div class="search2_center">
    <form class="search2" onsubmit="return false;" action="">
      <input name="q" type="search" placeholder="Search" id="search_box2" size="30" value="" />
    </form>
  </div>
  <script type="text/javascript" charset="utf-8"> 
    $('#search_box2').focus(function(){
      var search_index = relpath + 'search_index.json';
      jQuery.getJSON(search_index, go_data);

      function go_data(adata) {
        $('#search_box2').autocomplete(adata, {
          width: 300,
          matchContains: true,
          formatItem: function(item) {
            return item.text;
          }
        }).result(function(event, item) {
          location.href = relpath + $(item.href_tag).attr("href");
        });
      }
    });
  </script> 
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Plist4r::PlistType::Launchd 
  
  
</h1>

<div id="info_box">
  <dl class="box">
    <!-- 
      <dt class="r1">Inherits:</dt>
      <dd class="r1">
        <span class="inheritName"><a href="../PlistType.html" title="Plist4r::PlistType (class)"></a></span>
        
          <ul class="fullTree">
            <li><a href="../../Object.html" title="Object (class)">Object</a></li>
            
              <li class="next"><a href="../PlistType.html" title="Plist4r::PlistType (class)"></a></li>
            
              <li class="next">Plist4r::PlistType::Launchd</li>
            
          </ul>
          <a href="#" class="inheritanceTree">show all</a>
        
        </dd>
      
     -->
    
      
    
      
    
  
    
      <dt class="r2 last">Defined in:</dt>
      <dd class="r2 last">lib/plist4r/plist_type/launchd.rb</dd>
    
  </dl>
</div>
<div class="clear"></div>

<p class="children">
   
    
   
    
			<h3 class="inherited">Classes</h3>
	    <ul id="classes_ribbon">
	    
	    
	      <li class="r1"><a href="Launchd/KeepAlive.html" title="Plist4r::PlistType::Launchd::KeepAlive (class)">KeepAlive</a></li>
	      
	    
	      <li class="r2"><a href="Launchd/MachServices.html" title="Plist4r::PlistType::Launchd::MachServices (class)">MachServices</a></li>
	      
	    
	      <li class="r1"><a href="Launchd/ResourceLimits.html" title="Plist4r::PlistType::Launchd::ResourceLimits (class)">ResourceLimits</a></li>
	      
	    
	      <li class="r2"><a href="Launchd/Sockets.html" title="Plist4r::PlistType::Launchd::Sockets (class)">Sockets</a></li>
	      
	    
	      <li class="r1"><a href="Launchd/StartCalendarInterval.html" title="Plist4r::PlistType::Launchd::StartCalendarInterval (class)">StartCalendarInterval</a></li>
	      
	    
	    </ul>
    
  
</p>

	<h3 class="inherited">Class Methods</h3>
	    <ul id="methods_ribbon">
	    
	    
	      <li class="r1"><a href="#valid_keys-class_method" title="Plist4r::PlistType::Launchd.valid_keys (method)">valid_keys</a></li>
	      
	    
	    </ul>

	<h3 class="inherited">Instance Methods</h3>
	    <ul id="methods_ribbon">
	    
	    
	      <li class="r1"><a href="#environment_variables-instance_method" title="Plist4r::PlistType::Launchd#environment_variables (method)">environment_variables</a></li>
	      
	    
	      <li class="r2"><a href="#hard_resource_limits-instance_method" title="Plist4r::PlistType::Launchd#hard_resource_limits (method)">hard_resource_limits</a></li>
	      
	    
	      <li class="r1"><a href="#inetd_compatibility-instance_method" title="Plist4r::PlistType::Launchd#inetd_compatibility (method)">inetd_compatibility</a></li>
	      
	    
	      <li class="r2"><a href="#keep_alive-instance_method" title="Plist4r::PlistType::Launchd#keep_alive (method)">keep_alive</a></li>
	      
	    
	      <li class="r1"><a href="#mach_services-instance_method" title="Plist4r::PlistType::Launchd#mach_services (method)">mach_services</a></li>
	      
	    
	      <li class="r2"><a href="#socket-instance_method" title="Plist4r::PlistType::Launchd#socket (method)">socket</a></li>
	      
	    
	      <li class="r1"><a href="#soft_resource_limits-instance_method" title="Plist4r::PlistType::Launchd#soft_resource_limits (method)">soft_resource_limits</a></li>
	      
	    
	      <li class="r2"><a href="#start_calendar_interval-instance_method" title="Plist4r::PlistType::Launchd#start_calendar_interval (method)">start_calendar_interval</a></li>
	      
	    
	    </ul>



  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <a href="../PlistType.html" title="Plist4r::PlistType (class)"></a></h3>
  <p class="inherited"><a href="../PlistType.html#hash-instance_method" title="Plist4r::PlistType#hash (method)">#hash</a>, <a href="../PlistType.html#initialize-instance_method" title="Plist4r::PlistType#initialize (method)">#initialize</a>, <a href="../PlistType.html#match_stat-class_method" title="Plist4r::PlistType.match_stat (method)">match_stat</a>, <a href="../PlistType.html#to_s-instance_method" title="Plist4r::PlistType#to_s (method)">#to_s</a>, <a href="../PlistType.html#to_sym-instance_method" title="Plist4r::PlistType#to_sym (method)">#to_sym</a>, <a href="../PlistType.html#valid_keys-instance_method" title="Plist4r::PlistType#valid_keys (method)">#valid_keys</a></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="../DataMethods.html" title="Plist4r::DataMethods (module)">Plist4r::DataMethods</a></h3>
  <p class="inherited"><a href="../DataMethods.html#classes_for_key_type-instance_method" title="Plist4r::DataMethods#classes_for_key_type (method)">#classes_for_key_type</a>, <a href="../DataMethods.html#method_missing-instance_method" title="Plist4r::DataMethods#method_missing (method)">#method_missing</a>, <a href="../DataMethods.html#set_or_return-instance_method" title="Plist4r::DataMethods#set_or_return (method)">#set_or_return</a>, <a href="../DataMethods.html#valid_keys-instance_method" title="Plist4r::DataMethods#valid_keys (method)">#valid_keys</a>, <a href="../DataMethods.html#validate_value-instance_method" title="Plist4r::DataMethods#validate_value (method)">#validate_value</a></p>


  
  
  
  
  
  
  
  
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <a href="../PlistType.html#initialize-instance_method" title="Plist4r::PlistType#initialize (method)">Plist4r::PlistType</a></p>
  
</div>
<div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice super">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <a href="../DataMethods.html#method_missing-instance_method" title="Plist4r::DataMethods#method_missing (method)">Plist4r::DataMethods</a>
    
  </p>
  
</div>

  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first" id="valid_keys-class_method">
  <p class="signature first"">
  
    + (<tt><a href="../../Object.html" title="Object (class)">Object</a></tt>) <strong>valid_keys</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9
10
11
12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/plist4r/plist_type/launchd.rb', line 7</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='valid_keys identifier id'>valid_keys</span>
  <span class='lbrace token'>{</span>
    <span class='symbol val'>:string</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dstring node'>%w[Label UserName GroupName LimitLoadToSessionType Program RootDirectory WorkingDirectory StandardInPath StandardOutPath StandardErrorPath]</span><span class='comma token'>,</span>
    <span class='symbol val'>:bool</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dstring node'>%w[Disabled EnableGlobbing EnableTransactions OnDemand RunAtLoad InitGroups StartOnMount Debug WaitForDebugger AbandonProcessGroup HopefullyExitsFirst HopefullyExitsLast LowPriorityIO LaunchOnlyOnce]</span><span class='comma token'>,</span>
    <span class='symbol val'>:integer</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dstring node'>%w[Umask TimeOut ExitTimeOut ThrottleInterval StartInterval Nice]</span><span class='comma token'>,</span>
    <span class='symbol val'>:array_of_strings</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dstring node'>%w[LimitLoadToHosts LimitLoadFromHosts ProgramArguments WatchPaths QueueDirectories]</span><span class='comma token'>,</span>
    <span class='symbol val'>:method_defined</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dstring node'>%w[inetdCompatibility KeepAlive EnvironmentVariables StartCalendarInterval SoftResourceLimits, HardResourceLimits MachServices Sockets]</span>
  <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>

    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first" id="environment_variables-instance_method">
  <p class="signature first"">
  
    - (<tt><a href="../../Object.html" title="Object (class)">Object</a></tt>) <strong>environment_variables</strong>(value = nil, &amp;blk) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='environment_variables identifier id'>environment_variables</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='string val'>&quot;VAR1&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;VAL1&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;VAR2&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;VAL2&quot;</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='environment_variables identifier id'>environment_variables</span> <span class='minus op'>-</span><span class='gt op'>&gt;</span> <span class='hash identifier id'>hash</span> <span class='or or kw'>or</span> <span class='nil nil kw'>nil</span>
</pre>
<p>
environment_variables <hash of strings> This optional key is used to
specify additional environmental variables to be set before running the
job.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/plist4r/plist_type/launchd.rb', line 117</span>

<span class='def def kw'>def</span> <span class='environment_variables identifier id'>environment_variables</span> <span class='value identifier id'>value</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span>
  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='string val'>&quot;EnvironmentVariables&quot;</span>
  <span class='case case kw'>case</span> <span class='value identifier id'>value</span>
  <span class='when when kw'>when</span> <span class='Hash constant id'>Hash</span>
    <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
      <span class='unless unless kw'>unless</span> <span class='k identifier id'>k</span><span class='dot token'>.</span><span class='class identifier id'>class</span> <span class='eq op'>==</span> <span class='String constant id'>String</span>
        <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid key: #{method_name}[#{k.inspect}]. Should be of type String&quot;</span>
      <span class='end end kw'>end</span>
      <span class='unless unless kw'>unless</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='class identifier id'>class</span> <span class='eq op'>==</span> <span class='String constant id'>String</span>
        <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid value: #{method_name}[#{k.inspect}] = #{v.inspect}. Should be of type String&quot;</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
  <span class='when when kw'>when</span> <span class='nil nil kw'>nil</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid value: #{method_name} #{value.inspect}. Should be: #{method_name} { hash_of_strings }&quot;</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>

    
      <div class="method_details " id="hard_resource_limits-instance_method">
  <p class="signature "">
  
    - (<tt><a href="../../Object.html" title="Object (class)">Object</a></tt>) <strong>hard_resource_limits</strong>(value = nil, &amp;blk) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='hard_resource_limits identifier id'>hard_resource_limits</span> <span class='lbrace token'>{</span> <span class='block_of_keys identifier id'>block_of_keys</span> <span class='rbrace token'>}</span>
  <span class='hard_resource_limits identifier id'>hard_resource_limits</span> <span class='minus op'>-</span><span class='gt op'>&gt;</span> <span class='hash identifier id'>hash</span> <span class='or or kw'>or</span> <span class='nil nil kw'>nil</span>
</pre>
<p>
hard_resource_limits <block of keys> Resource limits to be imposed on the
job. These adjust variables set with setrlimit(2). The following keys
apply:
</p>
<p>
hard_resource_limits do
</p>
<pre class="code">
  <span class='Core constant id'>Core</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='largest identifier id'>largest</span> <span class='size identifier id'>size</span> <span class='lparen token'>(</span><span class='in in kw'>in</span> <span class='bytes identifier id'>bytes</span><span class='rparen token'>)</span> <span class='core identifier id'>core</span> <span class='file identifier id'>file</span> <span class='that identifier id'>that</span> <span class='may identifier id'>may</span> <span class='be identifier id'>be</span> <span class='created identifier id'>created</span><span class='dot token'>.</span>

  <span class='CPU constant id'>CPU</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='maximum identifier id'>maximum</span> <span class='amount identifier id'>amount</span> <span class='of identifier id'>of</span> <span class='cpu identifier id'>cpu</span> <span class='time identifier id'>time</span> <span class='lparen token'>(</span><span class='in in kw'>in</span> <span class='seconds identifier id'>seconds</span><span class='rparen token'>)</span> <span class='to identifier id'>to</span> <span class='be identifier id'>be</span> <span class='used identifier id'>used</span> <span class='by identifier id'>by</span> <span class='each identifier id'>each</span> <span class='process identifier id'>process</span><span class='dot token'>.</span>

  <span class='Data constant id'>Data</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='maximum identifier id'>maximum</span> <span class='size identifier id'>size</span> <span class='lparen token'>(</span><span class='in in kw'>in</span> <span class='bytes identifier id'>bytes</span><span class='rparen token'>)</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='data identifier id'>data</span> <span class='segment identifier id'>segment</span> <span class='for for kw'>for</span> <span class='a identifier id'>a</span> <span class='process identifier id'>process</span><span class='semicolon token'>;</span> <span class='this identifier id'>this</span> <span class='defines identifier id'>defines</span> <span class='how identifier id'>how</span> <span class='far identifier id'>far</span> <span class='a identifier id'>a</span> <span class='program identifier id'>program</span> <span class='may identifier id'>may</span> <span class='extend identifier id'>extend</span> <span class='its identifier id'>its</span> <span class='break break kw'>break</span> <span class='with identifier id'>with</span> <span class='the identifier id'>the</span> <span class='sbrk identifier id'>sbrk</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='system identifier id'>system</span> <span class='call identifier id'>call</span><span class='dot token'>.</span>

  <span class='FileSize constant id'>FileSize</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='largest identifier id'>largest</span> <span class='size identifier id'>size</span> <span class='lparen token'>(</span><span class='in in kw'>in</span> <span class='bytes identifier id'>bytes</span><span class='rparen token'>)</span> <span class='file identifier id'>file</span> <span class='that identifier id'>that</span> <span class='may identifier id'>may</span> <span class='be identifier id'>be</span> <span class='created identifier id'>created</span><span class='dot token'>.</span>

  <span class='MemoryLock constant id'>MemoryLock</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='maximum identifier id'>maximum</span> <span class='size identifier id'>size</span> <span class='lparen token'>(</span><span class='in in kw'>in</span> <span class='bytes identifier id'>bytes</span><span class='rparen token'>)</span> <span class='which identifier id'>which</span> <span class='a identifier id'>a</span> <span class='process identifier id'>process</span> <span class='may identifier id'>may</span> <span class='lock identifier id'>lock</span> <span class='into identifier id'>into</span> <span class='memory identifier id'>memory</span> <span class='using identifier id'>using</span> <span class='the identifier id'>the</span> <span class='mlock identifier id'>mlock</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='function identifier id'>function</span><span class='dot token'>.</span>

  <span class='NumberOfFiles constant id'>NumberOfFiles</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='maximum identifier id'>maximum</span> <span class='number identifier id'>number</span> <span class='of identifier id'>of</span> <span class='open identifier id'>open</span> <span class='files identifier id'>files</span> <span class='for for kw'>for</span> <span class='this identifier id'>this</span> <span class='process identifier id'>process</span><span class='dot token'>.</span>  <span class='Setting constant id'>Setting</span> <span class='this identifier id'>this</span> <span class='value identifier id'>value</span> <span class='in in kw'>in</span> <span class='a identifier id'>a</span> <span class='system identifier id'>system</span> <span class='wide identifier id'>wide</span> <span class='daemon identifier id'>daemon</span> <span class='will identifier id'>will</span> <span class='set identifier id'>set</span> <span class='the identifier id'>the</span> <span class='sysctl identifier id'>sysctl</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span> <span class='kern identifier id'>kern</span><span class='dot token'>.</span><span class='maxfiles identifier id'>maxfiles</span> <span class='lparen token'>(</span><span class='SoftResourceLimits constant id'>SoftResourceLimits</span><span class='rparen token'>)</span> <span class='or or kw'>or</span>
  <span class='kern identifier id'>kern</span><span class='dot token'>.</span><span class='maxfilesperproc identifier id'>maxfilesperproc</span> <span class='lparen token'>(</span><span class='HardResourceLimits constant id'>HardResourceLimits</span><span class='rparen token'>)</span> <span class='value identifier id'>value</span> <span class='in in kw'>in</span> <span class='addition identifier id'>addition</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span> <span class='setrlimit identifier id'>setrlimit</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='values identifier id'>values</span><span class='dot token'>.</span>

  <span class='NumberOfProcesses constant id'>NumberOfProcesses</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='maximum identifier id'>maximum</span> <span class='number identifier id'>number</span> <span class='of identifier id'>of</span> <span class='simultaneous identifier id'>simultaneous</span> <span class='processes identifier id'>processes</span> <span class='for for kw'>for</span> <span class='this identifier id'>this</span> <span class='user identifier id'>user</span> <span class='id identifier id'>id</span><span class='dot token'>.</span>  <span class='Setting constant id'>Setting</span> <span class='this identifier id'>this</span> <span class='value identifier id'>value</span> <span class='in in kw'>in</span> <span class='a identifier id'>a</span> <span class='system identifier id'>system</span> <span class='wide identifier id'>wide</span> <span class='daemon identifier id'>daemon</span> <span class='will identifier id'>will</span> <span class='set identifier id'>set</span> <span class='the identifier id'>the</span> <span class='sysctl identifier id'>sysctl</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span> <span class='kern identifier id'>kern</span><span class='dot token'>.</span><span class='maxproc identifier id'>maxproc</span> <span class='lparen token'>(</span><span class='SoftResource constant id'>SoftResource</span><span class='minus op'>-</span>
  <span class='Limits constant id'>Limits</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='kern identifier id'>kern</span><span class='dot token'>.</span><span class='maxprocperuid identifier id'>maxprocperuid</span> <span class='lparen token'>(</span><span class='HardResourceLimits constant id'>HardResourceLimits</span><span class='rparen token'>)</span> <span class='value identifier id'>value</span> <span class='in in kw'>in</span> <span class='addition identifier id'>addition</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span> <span class='setrlimit identifier id'>setrlimit</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='values identifier id'>values</span><span class='dot token'>.</span>

  <span class='ResidentSetSize constant id'>ResidentSetSize</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='maximum identifier id'>maximum</span> <span class='size identifier id'>size</span> <span class='lparen token'>(</span><span class='in in kw'>in</span> <span class='bytes identifier id'>bytes</span><span class='rparen token'>)</span> <span class='to identifier id'>to</span> <span class='which identifier id'>which</span> <span class='a identifier id'>a</span> <span class='process identifier id'>process</span><span class='string val'>'s resident set size may grow.  This imposes a limit on the amount of physical memory to be given to a process;
  if memory is tight, the system will prefer to take memory from processes that are exceeding their declared resident set size.

  Stack &lt;integer&gt;
  The maximum size (in bytes) of the stack segment for a process; this defines how far a program'</span><span class='s identifier id'>s</span> <span class='stack identifier id'>stack</span> <span class='segment identifier id'>segment</span> <span class='may identifier id'>may</span> <span class='be identifier id'>be</span> <span class='extended identifier id'>extended</span><span class='dot token'>.</span>  <span class='Stack constant id'>Stack</span> <span class='extension identifier id'>extension</span> <span class='is identifier id'>is</span> <span class='performed identifier id'>performed</span>
  <span class='automatically identifier id'>automatically</span> <span class='by identifier id'>by</span> <span class='the identifier id'>the</span> <span class='system identifier id'>system</span><span class='dot token'>.</span>
</pre>
<p>
end
</p>
<p>
Example:
</p>
<p>
hard_resource_limits do
</p>
<pre class="code">
  <span class='NumberOfProcesses constant id'>NumberOfProcesses</span> <span class='integer val'>4</span>
  <span class='NumberOfFiles constant id'>NumberOfFiles</span> <span class='integer val'>512</span>
</pre>
<p>
end
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


317
318
319
320
321
322
323
324
325</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/plist4r/plist_type/launchd.rb', line 317</span>

<span class='def def kw'>def</span> <span class='hard_resource_limits identifier id'>hard_resource_limits</span> <span class='value identifier id'>value</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span>
  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='string val'>&quot;HardResourceLimits&quot;</span>
  <span class='if if kw'>if</span> <span class='blk identifier id'>blk</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='colon3 op'>::</span><span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='OrderedHash constant id'>OrderedHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='LaunchdPlistStructs constant id'>LaunchdPlistStructs</span><span class='colon2 op'>::</span><span class='ResourceLimits constant id'>ResourceLimits</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='comma token'>,</span><span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='else else kw'>else</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>

    
      <div class="method_details " id="inetd_compatibility-instance_method">
  <p class="signature "">
  
    - (<tt><a href="../../Object.html" title="Object (class)">Object</a></tt>) <strong>inetd_compatibility</strong>(value = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='inetdCompatibility identifier id'>inetdCompatibility</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:wait</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='inetdCompatibility identifier id'>inetdCompatibility</span> <span class='minus op'>-</span><span class='gt op'>&gt;</span> <span class='hash identifier id'>hash</span> <span class='or or kw'>or</span> <span class='nil nil kw'>nil</span>
</pre>
<p>
inetd_compatibility <hash> The presence of this key specifies that the
daemon expects to be run as if it were launched from inetd.
</p>
<pre class="code">
  <span class='symbol val'>:wait</span> <span class='lt op'>&lt;</span><span class='boolean identifier id'>boolean</span><span class='gt op'>&gt;</span>
  <span class='This constant id'>This</span> <span class='flag identifier id'>flag</span> <span class='corresponds identifier id'>corresponds</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span> <span class='string val'>&quot;wait&quot;</span> <span class='or or kw'>or</span> <span class='string val'>&quot;nowait&quot;</span> <span class='option identifier id'>option</span> <span class='of identifier id'>of</span> <span class='inetd identifier id'>inetd</span><span class='dot token'>.</span> <span class='If constant id'>If</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='then then kw'>then</span> <span class='the identifier id'>the</span> <span class='listening identifier id'>listening</span> <span class='socket identifier id'>socket</span> <span class='is identifier id'>is</span> <span class='passed identifier id'>passed</span> <span class='via identifier id'>via</span> <span class='the identifier id'>the</span> <span class='standard identifier id'>standard</span> <span class='in in kw'>in</span><span class='regexp val'>/out/e</span><span class='rror identifier id'>rror</span> <span class='file identifier id'>file</span> <span class='descriptors identifier id'>descriptors</span><span class='dot token'>.</span>
  <span class='If constant id'>If</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='then then kw'>then</span> <span class='accept identifier id'>accept</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='is identifier id'>is</span> <span class='called identifier id'>called</span> <span class='on identifier id'>on</span> <span class='behalf identifier id'>behalf</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='job identifier id'>job</span><span class='comma token'>,</span> <span class='and and kw'>and</span> <span class='the identifier id'>the</span> <span class='result identifier id'>result</span> <span class='is identifier id'>is</span> <span class='passed identifier id'>passed</span> <span class='via identifier id'>via</span> <span class='the identifier id'>the</span> <span class='standard identifier id'>standard</span> <span class='in in kw'>in</span><span class='regexp val'>/out/e</span><span class='rror identifier id'>rror</span> <span class='descriptors identifier id'>descriptors</span><span class='dot token'>.</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/plist4r/plist_type/launchd.rb', line 27</span>

<span class='def def kw'>def</span> <span class='inetd_compatibility identifier id'>inetd_compatibility</span> <span class='value identifier id'>value</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span>
  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='string val'>&quot;inetdCompatibility&quot;</span>
  <span class='case case kw'>case</span> <span class='value identifier id'>value</span>
  <span class='when when kw'>when</span> <span class='Hash constant id'>Hash</span>
    <span class='if if kw'>if</span> <span class='value identifier id'>value</span><span class='lbrack token'>[</span><span class='symbol val'>:wait</span><span class='rbrack token'>]</span>
      <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span><span class='lbrack token'>[</span><span class='symbol val'>:wait</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid value: #{method_name} #{value.inspect}. Should be: #{method_name} :wait =&gt; true|false&quot;</span>
    <span class='end end kw'>end</span>
  <span class='when when kw'>when</span> <span class='nil nil kw'>nil</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid value: #{method_name} #{value.inspect}. Should be: #{method_name} :wait =&gt; true|false&quot;</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>

    
      <div class="method_details " id="keep_alive-instance_method">
  <p class="signature "">
  
    - (<tt><a href="../../Object.html" title="Object (class)">Object</a></tt>) <strong>keep_alive</strong>(value = nil, &amp;blk) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='keep_alive identifier id'>keep_alive</span><span class='lparen token'>(</span><span class='true true kw'>true</span><span class='rparen token'>)</span>
  <span class='keep_alive identifier id'>keep_alive</span><span class='lparen token'>(</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='keep_alive identifier id'>keep_alive</span> <span class='lbrace token'>{</span> <span class='block_of_keys identifier id'>block_of_keys</span> <span class='rbrace token'>}</span>
  <span class='keep_alive identifier id'>keep_alive</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='Hash constant id'>Hash</span><span class='comma token'>,</span> <span class='or or kw'>or</span> <span class='nil nil kw'>nil</span>
</pre>
<p>
keep_alive <boolean or block of keys> This optional key is used to control
whether your job is to be kept continuously running or to let demand and
conditions control the invocation. The default is false and therefore only
demand will start the job. The value may be set to true to unconditionally
keep the job alive. Alternatively, a dictionary of conditions may be
specified to selectively control whether launchd keeps a job alive or not.
If multiple keys are provided, launchd ORs them, thus providing maximum
flexibil- ity to the job to refine the logic and stall if necessary. If
launchd finds no reason to restart the job, it falls back on demand based
invocation. Jobs that exit quickly and frequently when configured to be
kept alive will be throttled to converve system resources.
</p>
<p>
keep_alive do
</p>
<pre class="code">
  <span class='successful_exit identifier id'>successful_exit</span> <span class='lt op'>&lt;</span><span class='boolean identifier id'>boolean</span><span class='gt op'>&gt;</span>
  <span class='If constant id'>If</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='the identifier id'>the</span> <span class='job identifier id'>job</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='restarted identifier id'>restarted</span> <span class='as identifier id'>as</span> <span class='long identifier id'>long</span> <span class='as identifier id'>as</span> <span class='the identifier id'>the</span> <span class='program identifier id'>program</span> <span class='exits identifier id'>exits</span> <span class='and and kw'>and</span> <span class='with identifier id'>with</span> <span class='an identifier id'>an</span> <span class='exit identifier id'>exit</span> <span class='status identifier id'>status</span> <span class='of identifier id'>of</span> <span class='zero identifier id'>zero</span><span class='dot token'>.</span>  <span class='If constant id'>If</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='the identifier id'>the</span> <span class='job identifier id'>job</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='restarted identifier id'>restarted</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='inverse identifier id'>inverse</span> <span class='condi identifier id'>condi</span><span class='minus op'>-</span>
  <span class='tion identifier id'>tion</span><span class='dot token'>.</span>  <span class='This constant id'>This</span> <span class='key identifier id'>key</span> <span class='implies identifier id'>implies</span> <span class='that identifier id'>that</span> <span class='string val'>&quot;RunAtLoad&quot;</span> <span class='is identifier id'>is</span> <span class='set identifier id'>set</span> <span class='to identifier id'>to</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='since identifier id'>since</span> <span class='the identifier id'>the</span> <span class='job identifier id'>job</span> <span class='needs identifier id'>needs</span> <span class='to identifier id'>to</span> <span class='run identifier id'>run</span> <span class='at identifier id'>at</span> <span class='least identifier id'>least</span> <span class='once identifier id'>once</span> <span class='before identifier id'>before</span> <span class='we identifier id'>we</span> <span class='can identifier id'>can</span> <span class='get identifier id'>get</span> <span class='an identifier id'>an</span> <span class='exit identifier id'>exit</span> <span class='status identifier id'>status</span><span class='dot token'>.</span>

  <span class='network_state identifier id'>network_state</span> <span class='lt op'>&lt;</span><span class='boolean identifier id'>boolean</span><span class='gt op'>&gt;</span>
  <span class='If constant id'>If</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='the identifier id'>the</span> <span class='job identifier id'>job</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='kept identifier id'>kept</span> <span class='alive identifier id'>alive</span> <span class='as identifier id'>as</span> <span class='long identifier id'>long</span> <span class='as identifier id'>as</span> <span class='the identifier id'>the</span> <span class='network identifier id'>network</span> <span class='is identifier id'>is</span> <span class='up identifier id'>up</span><span class='comma token'>,</span> <span class='where identifier id'>where</span> <span class='up identifier id'>up</span> <span class='is identifier id'>is</span> <span class='defined identifier id'>defined</span> <span class='as identifier id'>as</span> <span class='at identifier id'>at</span> <span class='least identifier id'>least</span> <span class='one identifier id'>one</span> <span class='non identifier id'>non</span><span class='minus op'>-</span><span class='loopback identifier id'>loopback</span> <span class='interface identifier id'>interface</span> <span class='being identifier id'>being</span> <span class='up identifier id'>up</span> <span class='and and kw'>and</span> <span class='having identifier id'>having</span> <span class='IPv4 constant id'>IPv4</span> <span class='or or kw'>or</span> <span class='IPv6 constant id'>IPv6</span>
  <span class='addresses identifier id'>addresses</span> <span class='assigned identifier id'>assigned</span> <span class='to identifier id'>to</span> <span class='them identifier id'>them</span><span class='dot token'>.</span>  <span class='If constant id'>If</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='the identifier id'>the</span> <span class='job identifier id'>job</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='kept identifier id'>kept</span> <span class='alive identifier id'>alive</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='inverse identifier id'>inverse</span> <span class='condition identifier id'>condition</span><span class='dot token'>.</span>

  <span class='path_state identifier id'>path_state</span> <span class='lt op'>&lt;</span><span class='hash identifier id'>hash</span> <span class='of identifier id'>of</span> <span class='booleans identifier id'>booleans</span><span class='gt op'>&gt;</span>
  <span class='Each constant id'>Each</span> <span class='key identifier id'>key</span> <span class='in in kw'>in</span> <span class='this identifier id'>this</span> <span class='dictionary identifier id'>dictionary</span> <span class='is identifier id'>is</span> <span class='a identifier id'>a</span> <span class='file identifier id'>file</span><span class='minus op'>-</span><span class='system identifier id'>system</span> <span class='path identifier id'>path</span><span class='dot token'>.</span> <span class='If constant id'>If</span> <span class='the identifier id'>the</span> <span class='value identifier id'>value</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='key identifier id'>key</span> <span class='is identifier id'>is</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='then then kw'>then</span> <span class='the identifier id'>the</span> <span class='job identifier id'>job</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='kept identifier id'>kept</span> <span class='alive identifier id'>alive</span> <span class='as identifier id'>as</span> <span class='long identifier id'>long</span> <span class='as identifier id'>as</span> <span class='the identifier id'>the</span> <span class='path identifier id'>path</span> <span class='exists identifier id'>exists</span><span class='dot token'>.</span>  <span class='If constant id'>If</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='the identifier id'>the</span>
  <span class='job identifier id'>job</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='kept identifier id'>kept</span> <span class='alive identifier id'>alive</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='inverse identifier id'>inverse</span> <span class='condition identifier id'>condition</span><span class='dot token'>.</span> <span class='The constant id'>The</span> <span class='intent identifier id'>intent</span> <span class='of identifier id'>of</span> <span class='this identifier id'>this</span> <span class='feature identifier id'>feature</span> <span class='is identifier id'>is</span> <span class='that identifier id'>that</span> <span class='two identifier id'>two</span> <span class='or or kw'>or</span> <span class='more identifier id'>more</span> <span class='jobs identifier id'>jobs</span> <span class='may identifier id'>may</span> <span class='create identifier id'>create</span> <span class='semaphores identifier id'>semaphores</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='file identifier id'>file</span><span class='minus op'>-</span><span class='system identifier id'>system</span> <span class='namespace identifier id'>namespace</span><span class='dot token'>.</span>

  <span class='other_job_enabled identifier id'>other_job_enabled</span> <span class='lt op'>&lt;</span><span class='hash identifier id'>hash</span> <span class='of identifier id'>of</span> <span class='booleans identifier id'>booleans</span><span class='gt op'>&gt;</span>
  <span class='Each constant id'>Each</span> <span class='key identifier id'>key</span> <span class='in in kw'>in</span> <span class='this identifier id'>this</span> <span class='dictionary identifier id'>dictionary</span> <span class='is identifier id'>is</span> <span class='the identifier id'>the</span> <span class='label identifier id'>label</span> <span class='of identifier id'>of</span> <span class='another identifier id'>another</span> <span class='job identifier id'>job</span><span class='dot token'>.</span> <span class='If constant id'>If</span> <span class='the identifier id'>the</span> <span class='value identifier id'>value</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='key identifier id'>key</span> <span class='is identifier id'>is</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='then then kw'>then</span> <span class='this identifier id'>this</span> <span class='job identifier id'>job</span> <span class='is identifier id'>is</span> <span class='kept identifier id'>kept</span> <span class='alive identifier id'>alive</span> <span class='as identifier id'>as</span> <span class='long identifier id'>long</span> <span class='as identifier id'>as</span> <span class='that identifier id'>that</span> <span class='other identifier id'>other</span> <span class='job identifier id'>job</span> <span class='is identifier id'>is</span> <span class='enabled identifier id'>enabled</span><span class='dot token'>.</span>
  <span class='Otherwise constant id'>Otherwise</span><span class='comma token'>,</span> <span class='if if kw'>if</span> <span class='the identifier id'>the</span> <span class='value identifier id'>value</span> <span class='is identifier id'>is</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='then then kw'>then</span> <span class='this identifier id'>this</span> <span class='job identifier id'>job</span> <span class='is identifier id'>is</span> <span class='kept identifier id'>kept</span> <span class='alive identifier id'>alive</span> <span class='as identifier id'>as</span> <span class='long identifier id'>long</span> <span class='as identifier id'>as</span> <span class='the identifier id'>the</span> <span class='other identifier id'>other</span> <span class='job identifier id'>job</span> <span class='is identifier id'>is</span> <span class='disabled identifier id'>disabled</span><span class='dot token'>.</span>  <span class='This constant id'>This</span> <span class='feature identifier id'>feature</span> <span class='should identifier id'>should</span> <span class='not not kw'>not</span> <span class='be identifier id'>be</span> <span class='considered identifier id'>considered</span> <span class='a identifier id'>a</span> <span class='substitute identifier id'>substitute</span> <span class='for for kw'>for</span>
  <span class='the identifier id'>the</span> <span class='use identifier id'>use</span> <span class='of identifier id'>of</span> <span class='IPC constant id'>IPC</span><span class='dot token'>.</span>
</pre>
<p>
end
</p>
<p>
Example:
</p>
<p>
keep_alive do
</p>
<pre class="code">
  <span class='successful_exit identifier id'>successful_exit</span> <span class='true true kw'>true</span>
  <span class='network_state identifier id'>network_state</span> <span class='false false kw'>false</span>
</pre>
<p>
end
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/plist4r/plist_type/launchd.rb', line 93</span>

<span class='def def kw'>def</span> <span class='keep_alive identifier id'>keep_alive</span> <span class='value identifier id'>value</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span>
  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='string val'>&quot;KeepAlive&quot;</span>

  <span class='case case kw'>case</span> <span class='value identifier id'>value</span>
  <span class='when when kw'>when</span> <span class='TrueCass constant id'>TrueCass</span><span class='comma token'>,</span> <span class='FalseClass constant id'>FalseClass</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
  <span class='when when kw'>when</span> <span class='nil nil kw'>nil</span>
    <span class='if if kw'>if</span> <span class='blk identifier id'>blk</span>
      <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='colon3 op'>::</span><span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='OrderedHash constant id'>OrderedHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
      <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='LaunchdPlistStructs constant id'>LaunchdPlistStructs</span><span class='colon2 op'>::</span><span class='KeepAlive constant id'>KeepAlive</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='comma token'>,</span><span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
    <span class='else else kw'>else</span>
      <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid value: #{method_name} #{value.inspect}. Should be: #{method_name} true|false, or #{method_name} { block }&quot;</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>

    
      <div class="method_details " id="mach_services-instance_method">
  <p class="signature "">
  
    - (<tt><a href="../../Object.html" title="Object (class)">Object</a></tt>) <strong>mach_services</strong>(value = nil, &amp;blk) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='mach_services identifier id'>mach_services</span> <span class='lbrace token'>{</span> <span class='block identifier id'>block</span> <span class='rbrace token'>}</span>
  <span class='mach_services identifier id'>mach_services</span> <span class='minus op'>-</span><span class='gt op'>&gt;</span> <span class='hash identifier id'>hash</span> <span class='or or kw'>or</span> <span class='nil nil kw'>nil</span>
</pre>
<p>
mach_services <dictionary of booleans or a dictionary of dictionaries> This
optional key is used to specify Mach services to be registered with the
Mach bootstrap sub-system. Each key in this dictionary should be the name
of service to be advertised. The value of the key must be a boolean and set
to true. Alternatively, a dictionary can be used instead of a simple true
value.
</p>
<pre class="code">
  <span class='ResetAtClose constant id'>ResetAtClose</span> <span class='lt op'>&lt;</span><span class='boolean identifier id'>boolean</span><span class='gt op'>&gt;</span>
  <span class='If constant id'>If</span> <span class='this identifier id'>this</span> <span class='boolean identifier id'>boolean</span> <span class='is identifier id'>is</span> <span class='false false kw'>false</span><span class='comma token'>,</span> <span class='the identifier id'>the</span> <span class='port identifier id'>port</span> <span class='is identifier id'>is</span> <span class='recycled identifier id'>recycled</span><span class='comma token'>,</span> <span class='thus identifier id'>thus</span> <span class='leaving identifier id'>leaving</span> <span class='clients identifier id'>clients</span> <span class='to identifier id'>to</span> <span class='remain identifier id'>remain</span> <span class='oblivious identifier id'>oblivious</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span> <span class='demand identifier id'>demand</span> <span class='nature identifier id'>nature</span> <span class='of identifier id'>of</span> <span class='job identifier id'>job</span><span class='dot token'>.</span> <span class='If constant id'>If</span> <span class='the identifier id'>the</span> <span class='value identifier id'>value</span> <span class='is identifier id'>is</span> <span class='set identifier id'>set</span> <span class='to identifier id'>to</span> <span class='true true kw'>true</span><span class='comma token'>,</span> <span class='clients identifier id'>clients</span>
  <span class='receive identifier id'>receive</span> <span class='port identifier id'>port</span> <span class='death identifier id'>death</span> <span class='notifications identifier id'>notifications</span> <span class='when when kw'>when</span> <span class='the identifier id'>the</span> <span class='job identifier id'>job</span> <span class='lets identifier id'>lets</span> <span class='go identifier id'>go</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='receive identifier id'>receive</span> <span class='right identifier id'>right</span><span class='dot token'>.</span> <span class='The constant id'>The</span> <span class='port identifier id'>port</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='recreated identifier id'>recreated</span> <span class='atomically identifier id'>atomically</span> <span class='with identifier id'>with</span> <span class='respect identifier id'>respect</span> <span class='to identifier id'>to</span> <span class='bootstrap_look_up identifier id'>bootstrap_look_up</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='calls identifier id'>calls</span><span class='comma token'>,</span>
  <span class='so identifier id'>so</span> <span class='that identifier id'>that</span> <span class='clients identifier id'>clients</span> <span class='can identifier id'>can</span> <span class='trust identifier id'>trust</span> <span class='that identifier id'>that</span> <span class='after identifier id'>after</span> <span class='receiving identifier id'>receiving</span> <span class='a identifier id'>a</span> <span class='port identifier id'>port</span> <span class='death identifier id'>death</span> <span class='notification identifier id'>notification</span><span class='comma token'>,</span> <span class='the identifier id'>the</span> <span class='new identifier id'>new</span> <span class='port identifier id'>port</span> <span class='will identifier id'>will</span> <span class='have identifier id'>have</span> <span class='already identifier id'>already</span> <span class='been identifier id'>been</span> <span class='recreated identifier id'>recreated</span><span class='dot token'>.</span> <span class='Setting constant id'>Setting</span> <span class='the identifier id'>the</span> <span class='value identifier id'>value</span> <span class='to identifier id'>to</span> <span class='true true kw'>true</span> <span class='should identifier id'>should</span> <span class='be identifier id'>be</span>
  <span class='done identifier id'>done</span> <span class='with identifier id'>with</span> <span class='care identifier id'>care</span><span class='dot token'>.</span> <span class='Not constant id'>Not</span> <span class='all identifier id'>all</span> <span class='clients identifier id'>clients</span> <span class='may identifier id'>may</span> <span class='be identifier id'>be</span> <span class='able identifier id'>able</span> <span class='to identifier id'>to</span> <span class='handle identifier id'>handle</span> <span class='this identifier id'>this</span> <span class='behavior identifier id'>behavior</span><span class='dot token'>.</span> <span class='The constant id'>The</span> <span class='default identifier id'>default</span> <span class='value identifier id'>value</span> <span class='is identifier id'>is</span> <span class='false false kw'>false</span><span class='dot token'>.</span>

  <span class='HideUntilCheckIn constant id'>HideUntilCheckIn</span> <span class='lt op'>&lt;</span><span class='boolean identifier id'>boolean</span><span class='gt op'>&gt;</span>
  <span class='Reserve constant id'>Reserve</span> <span class='the identifier id'>the</span> <span class='name identifier id'>name</span> <span class='in in kw'>in</span> <span class='the identifier id'>the</span> <span class='namespace identifier id'>namespace</span><span class='comma token'>,</span> <span class='but identifier id'>but</span> <span class='cause identifier id'>cause</span> <span class='bootstrap_look_up identifier id'>bootstrap_look_up</span><span class='lparen token'>(</span><span class='rparen token'>)</span> <span class='to identifier id'>to</span> <span class='fail identifier id'>fail</span> <span class='until until_mod kw'>until</span> <span class='the identifier id'>the</span> <span class='job identifier id'>job</span> <span class='has identifier id'>has</span> <span class='checked identifier id'>checked</span> <span class='in in kw'>in</span> <span class='with identifier id'>with</span> <span class='launchd identifier id'>launchd</span><span class='dot token'>.</span>
</pre>
<p>
Finally, for the job itself, the values will be replaced with Mach ports at
the time of check-in with launchd.
</p>
<p>
Example:
</p>
<p>
mach_services do
</p>
<pre class="code">
  <span class='add identifier id'>add</span> <span class='string val'>&quot;com.apple.afpfs_checkafp&quot;</span><span class='comma token'>,</span> <span class='true true kw'>true</span>
</pre>
<p>
end
</p>
<p>
mach_services do
</p>
<pre class="code">
  <span class='add identifier id'>add</span> <span class='string val'>&quot;com.apple.AppleFileServer&quot;</span> <span class='do do kw'>do</span>
    <span class='hide_until_check_in identifier id'>hide_until_check_in</span> <span class='true true kw'>true</span>
    <span class='reset_at_close identifier id'>reset_at_close</span> <span class='false false kw'>false</span>
  <span class='end end kw'>end</span>
</pre>
<p>
end
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


379
380
381
382
383
384
385
386
387</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/plist4r/plist_type/launchd.rb', line 379</span>

<span class='def def kw'>def</span> <span class='mach_services identifier id'>mach_services</span> <span class='value identifier id'>value</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span>
  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='string val'>&quot;MachServices&quot;</span>
  <span class='if if kw'>if</span> <span class='blk identifier id'>blk</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='colon3 op'>::</span><span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='OrderedHash constant id'>OrderedHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='LaunchdPlistStructs constant id'>LaunchdPlistStructs</span><span class='colon2 op'>::</span><span class='MachServices constant id'>MachServices</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='comma token'>,</span><span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='else else kw'>else</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>

    
      <div class="method_details " id="socket-instance_method">
  <p class="signature "">
  
    - (<tt><a href="../../Object.html" title="Object (class)">Object</a></tt>) <strong>socket</strong>(index_or_key = nil, index = nil, &amp;blk) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='sockets identifier id'>sockets</span><span class='lparen token'>(</span><span class='socket_key identifier id'>socket_key</span><span class='assign token'>=</span><span class='string val'>&quot;Listeners&quot;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='block_of_keys identifier id'>block_of_keys</span> <span class='rbrace token'>}</span>
  <span class='sockets identifier id'>sockets</span><span class='lparen token'>(</span><span class='socket_key identifier id'>socket_key</span><span class='assign token'>=</span><span class='string val'>&quot;Listeners&quot;</span><span class='comma token'>,</span> <span class='socket_index identifier id'>socket_index</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='block_of_keys identifier id'>block_of_keys</span> <span class='rbrace token'>}</span>
  <span class='sockets identifier id'>sockets</span> <span class='minus op'>-</span><span class='gt op'>&gt;</span> <span class='hash identifier id'>hash</span> <span class='or or kw'>or</span> <span class='nil nil kw'>nil</span>
</pre>
<p>
socket <array_index=nil> <block of keys> socket <dictionary&#8230; OR
dictionary + array index&#8230;>
</p>
<p>
Please See: <a
href="http://developer.apple.com/mac/library/documentation/MacOSX/Conceptual/BPSystemStartup/Articles/LaunchOnDemandDaemons.html">developer.apple.com/mac/library/documentation/MacOSX/Conceptual/BPSystemStartup/Articles/LaunchOnDemandDaemons.html</a>
for more information about how to properly use the Sockets feature
</p>
<p>
This optional key is used to specify launch on demand sockets that can be
used to let launchd know when to run the job. The job must check-in to get
a copy of the file descriptors using APIs outlined in launch(3). The keys
of the top level Sockets dictionary can be anything. They are meant for the
application developer to use to differentiate which descriptors correspond
to which application level protocols (e.g. http vs. ftp vs. DNS&#8230;). At
check-in time, the value of each Sockets dictionary key will be an array of
descriptors. Daemon/Agent writers should consider all descriptors of a
given key to be to be effectively equivalent, even though each file
descriptor likely represents a different networking protocol which conforms
to the criteria specified in the job configuration file. The parameters
below are used as inputs to call getaddrinfo(3).
</p>
<p>
socket &#8220;socket_key&#8221; do
</p>
<pre class="code">
  <span class='SockType constant id'>SockType</span> <span class='lt op'>&lt;</span><span class='string identifier id'>string</span><span class='gt op'>&gt;</span>
  <span class='This constant id'>This</span> <span class='optional identifier id'>optional</span> <span class='key identifier id'>key</span> <span class='tells identifier id'>tells</span> <span class='launchctl identifier id'>launchctl</span> <span class='what identifier id'>what</span> <span class='type identifier id'>type</span> <span class='of identifier id'>of</span> <span class='socket identifier id'>socket</span> <span class='to identifier id'>to</span> <span class='create identifier id'>create</span><span class='dot token'>.</span> <span class='The constant id'>The</span> <span class='default identifier id'>default</span> <span class='is identifier id'>is</span> <span class='string val'>&quot;stream&quot;</span> <span class='and and kw'>and</span> <span class='other identifier id'>other</span> <span class='valid identifier id'>valid</span> <span class='values identifier id'>values</span> <span class='for for kw'>for</span> <span class='this identifier id'>this</span> <span class='key identifier id'>key</span> <span class='are identifier id'>are</span> <span class='string val'>&quot;dgram&quot;</span> <span class='and and kw'>and</span> <span class='string val'>&quot;seqpacket&quot;</span>
  <span class='respectively identifier id'>respectively</span><span class='dot token'>.</span>

  <span class='SockPassive constant id'>SockPassive</span> <span class='lt op'>&lt;</span><span class='boolean identifier id'>boolean</span><span class='gt op'>&gt;</span>
  <span class='This constant id'>This</span> <span class='optional identifier id'>optional</span> <span class='key identifier id'>key</span> <span class='specifies identifier id'>specifies</span> <span class='whether identifier id'>whether</span> <span class='listen identifier id'>listen</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='connect identifier id'>connect</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='should identifier id'>should</span> <span class='be identifier id'>be</span> <span class='called identifier id'>called</span> <span class='on identifier id'>on</span> <span class='the identifier id'>the</span> <span class='created identifier id'>created</span> <span class='file identifier id'>file</span> <span class='descriptor identifier id'>descriptor</span><span class='dot token'>.</span> <span class='The constant id'>The</span> <span class='default identifier id'>default</span> <span class='is identifier id'>is</span> <span class='true true kw'>true</span> <span class='lparen token'>(</span><span class='string val'>&quot;to listen&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span>

  <span class='SockNodeName constant id'>SockNodeName</span> <span class='lt op'>&lt;</span><span class='string identifier id'>string</span><span class='gt op'>&gt;</span>
  <span class='This constant id'>This</span> <span class='optional identifier id'>optional</span> <span class='key identifier id'>key</span> <span class='specifies identifier id'>specifies</span> <span class='the identifier id'>the</span> <span class='node identifier id'>node</span> <span class='to identifier id'>to</span> <span class='connect identifier id'>connect</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='bind identifier id'>bind</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='to identifier id'>to</span><span class='dot token'>.</span>

  <span class='SockServiceName constant id'>SockServiceName</span> <span class='lt op'>&lt;</span><span class='string identifier id'>string</span><span class='gt op'>&gt;</span>
  <span class='This constant id'>This</span> <span class='optional identifier id'>optional</span> <span class='key identifier id'>key</span> <span class='specifies identifier id'>specifies</span> <span class='the identifier id'>the</span> <span class='service identifier id'>service</span> <span class='on identifier id'>on</span> <span class='the identifier id'>the</span> <span class='node identifier id'>node</span> <span class='to identifier id'>to</span> <span class='connect identifier id'>connect</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='bind identifier id'>bind</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='to identifier id'>to</span><span class='dot token'>.</span>

  <span class='SockFamily constant id'>SockFamily</span> <span class='lt op'>&lt;</span><span class='string identifier id'>string</span><span class='gt op'>&gt;</span>
  <span class='This constant id'>This</span> <span class='optional identifier id'>optional</span> <span class='key identifier id'>key</span> <span class='can identifier id'>can</span> <span class='be identifier id'>be</span> <span class='used identifier id'>used</span> <span class='to identifier id'>to</span> <span class='specifically identifier id'>specifically</span> <span class='request identifier id'>request</span> <span class='that identifier id'>that</span> <span class='string val'>&quot;IPv4&quot;</span> <span class='or or kw'>or</span> <span class='string val'>&quot;IPv6&quot;</span> <span class='socket identifier id'>socket</span><span class='lparen token'>(</span><span class='s identifier id'>s</span><span class='rparen token'>)</span> <span class='be identifier id'>be</span> <span class='created identifier id'>created</span><span class='dot token'>.</span>

  <span class='SockProtocol constant id'>SockProtocol</span> <span class='lt op'>&lt;</span><span class='string identifier id'>string</span><span class='gt op'>&gt;</span>
  <span class='This constant id'>This</span> <span class='optional identifier id'>optional</span> <span class='key identifier id'>key</span> <span class='specifies identifier id'>specifies</span> <span class='the identifier id'>the</span> <span class='protocol identifier id'>protocol</span> <span class='to identifier id'>to</span> <span class='be identifier id'>be</span> <span class='passed identifier id'>passed</span> <span class='to identifier id'>to</span> <span class='socket identifier id'>socket</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='dot token'>.</span>  <span class='The constant id'>The</span> <span class='only identifier id'>only</span> <span class='value identifier id'>value</span> <span class='understood identifier id'>understood</span> <span class='by identifier id'>by</span> <span class='this identifier id'>this</span> <span class='key identifier id'>key</span> <span class='at identifier id'>at</span> <span class='the identifier id'>the</span> <span class='moment identifier id'>moment</span> <span class='is identifier id'>is</span> <span class='string val'>&quot;TCP&quot;</span><span class='dot token'>.</span>

  <span class='SockPathName constant id'>SockPathName</span> <span class='lt op'>&lt;</span><span class='string identifier id'>string</span><span class='gt op'>&gt;</span>
  <span class='This constant id'>This</span> <span class='optional identifier id'>optional</span> <span class='key identifier id'>key</span> <span class='implies identifier id'>implies</span> <span class='SockFamily constant id'>SockFamily</span> <span class='is identifier id'>is</span> <span class='set identifier id'>set</span> <span class='to identifier id'>to</span> <span class='string val'>&quot;Unix&quot;</span><span class='dot token'>.</span> <span class='It constant id'>It</span> <span class='specifies identifier id'>specifies</span> <span class='the identifier id'>the</span> <span class='path identifier id'>path</span> <span class='to identifier id'>to</span> <span class='connect identifier id'>connect</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='bind identifier id'>bind</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='to identifier id'>to</span><span class='dot token'>.</span>

  <span class='SecureSocketWithKey constant id'>SecureSocketWithKey</span> <span class='lt op'>&lt;</span><span class='string identifier id'>string</span><span class='gt op'>&gt;</span>
  <span class='This constant id'>This</span> <span class='optional identifier id'>optional</span> <span class='key identifier id'>key</span> <span class='is identifier id'>is</span> <span class='a identifier id'>a</span> <span class='variant identifier id'>variant</span> <span class='of identifier id'>of</span> <span class='SockPathName constant id'>SockPathName</span><span class='dot token'>.</span> <span class='Instead constant id'>Instead</span> <span class='of identifier id'>of</span> <span class='binding identifier id'>binding</span> <span class='to identifier id'>to</span> <span class='a identifier id'>a</span> <span class='known identifier id'>known</span> <span class='path identifier id'>path</span><span class='comma token'>,</span> <span class='a identifier id'>a</span> <span class='securely identifier id'>securely</span> <span class='generated identifier id'>generated</span> <span class='socket identifier id'>socket</span> <span class='is identifier id'>is</span> <span class='created identifier id'>created</span> <span class='and and kw'>and</span> <span class='the identifier id'>the</span> <span class='path identifier id'>path</span> <span class='is identifier id'>is</span> <span class='assigned identifier id'>assigned</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span>
  <span class='environment identifier id'>environment</span> <span class='variable identifier id'>variable</span> <span class='that identifier id'>that</span> <span class='is identifier id'>is</span> <span class='inherited identifier id'>inherited</span> <span class='by identifier id'>by</span> <span class='all identifier id'>all</span> <span class='jobs identifier id'>jobs</span> <span class='spawned identifier id'>spawned</span> <span class='by identifier id'>by</span> <span class='launchd identifier id'>launchd</span><span class='dot token'>.</span>

  <span class='SockPathMode constant id'>SockPathMode</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='This constant id'>This</span> <span class='optional identifier id'>optional</span> <span class='key identifier id'>key</span> <span class='specifies identifier id'>specifies</span> <span class='the identifier id'>the</span> <span class='mode identifier id'>mode</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='socket identifier id'>socket</span><span class='dot token'>.</span> <span class='Known constant id'>Known</span> <span class='bug identifier id'>bug</span><span class='colon op'>:</span> <span class='Property constant id'>Property</span> <span class='lists identifier id'>lists</span> <span class='don identifier id'>don</span><span class='string val'>'t support octal, so please convert the value to decimal.

  Bonjour &lt;boolean or string or array of strings&gt;
  This optional key can be used to request that the service be registered with the mDNSResponder(8).  If the value is boolean, the service name is inferred from
  the SockServiceName.

  MulticastGroup &lt;string&gt;
  This optional key can be used to request that the datagram socket join a multicast group.  If the value is a hostname, then getaddrinfo(3) will be used to
  join the correct multicast address for a given socket family.  If an explicit IPv4 or IPv6 address is given, it is required that the SockFamily family also be
  set, otherwise the results are undefined.
</span></pre>
<p>
end
</p>
<p>
NOTE: Sockets is a complex structure. If you are manupilating an existing
Sockets entry, then you must fully specify the key you want to modify. so
`socket do` should be written as `socket &#8220;Listeners&#8221; do`, (and
in the case of an array of sockets) `socket 0 do` should be written as
`socket &#8220;Listeners&#8221; 0 do`
</p>
<p>
Examples:
</p>
<p>
# scenario 1:
</p>
<pre class="code">
 <span class='socket identifier id'>socket</span> <span class='do do kw'>do</span>
   <span class='sock_service_name identifier id'>sock_service_name</span> <span class='string val'>&quot;netbios-ssn&quot;</span>
 <span class='end end kw'>end</span>
</pre>
<p>
# => Result: Ok. The default &#8220;Listeners&#8221; toplevel key is
generated implicitly.
</p>
<p>
# scenario 2:
</p>
<pre class="code">
 <span class='socket identifier id'>socket</span> <span class='do do kw'>do</span>
   <span class='sock_service_name identifier id'>sock_service_name</span> <span class='string val'>&quot;netbios-ssn&quot;</span>
 <span class='end end kw'>end</span>
 <span class='socket identifier id'>socket</span> <span class='do do kw'>do</span>
   <span class='sock_service_name identifier id'>sock_service_name</span> <span class='string val'>&quot;netbios&quot;</span>
   <span class='bonjour identifier id'>bonjour</span> <span class='lbrack token'>[</span><span class='string val'>'smb'</span><span class='rbrack token'>]</span>
 <span class='end end kw'>end</span>
</pre>
<p>
# => Result: Exception error is raise the second time because the
&#8220;Listeners&#8221; key already exists. We can forcefully overwrite
this existing sockets key with `socket &#8220;Listeners&#8221; do`.
</p>
<p>
# scenario 3:
</p>
<pre class="code">
 <span class='socket identifier id'>socket</span> <span class='string val'>&quot;netbios-ssn&quot;</span> <span class='do do kw'>do</span>
   <span class='sock_service_name identifier id'>sock_service_name</span> <span class='string val'>&quot;netbios-ssn&quot;</span>
 <span class='end end kw'>end</span>
 <span class='socket identifier id'>socket</span> <span class='string val'>&quot;netbios&quot;</span> <span class='do do kw'>do</span>
   <span class='sock_service_name identifier id'>sock_service_name</span> <span class='string val'>&quot;netbios&quot;</span>
   <span class='bonjour identifier id'>bonjour</span> <span class='lbrack token'>[</span><span class='string val'>'smb'</span><span class='rbrack token'>]</span>
 <span class='end end kw'>end</span>
</pre>
<h1>> Result: Ok. Each Sockets entry has a unique key.</h1>
<p>
# scenario 4:
</p>
<pre class="code">
 <span class='socket identifier id'>socket</span> <span class='integer val'>0</span> <span class='do do kw'>do</span>
   <span class='sock_service_name identifier id'>sock_service_name</span> <span class='string val'>&quot;netbios-ssn&quot;</span>
 <span class='end end kw'>end</span>
 <span class='socket identifier id'>socket</span> <span class='integer val'>1</span> <span class='do do kw'>do</span>
   <span class='sock_service_name identifier id'>sock_service_name</span> <span class='string val'>&quot;netbios&quot;</span>
   <span class='bonjour identifier id'>bonjour</span> <span class='lbrack token'>[</span><span class='string val'>'smb'</span><span class='rbrack token'>]</span>
 <span class='end end kw'>end</span>
</pre>
<p>
# => Result: Ok. Each Sockets entry has a unique array index. The array of
all these sockets is held within the default &#8220;Listeners&#8221; key
(implicit array or sockets).
</p>
<p>
# scenario 5:
</p>
<pre class="code">
 <span class='socket identifier id'>socket</span> <span class='do do kw'>do</span>
   <span class='sock_service_name identifier id'>sock_service_name</span> <span class='string val'>&quot;netbios-ssn&quot;</span>
 <span class='end end kw'>end</span>
 <span class='socket identifier id'>socket</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='do do kw'>do</span>
   <span class='sock_service_name identifier id'>sock_service_name</span> <span class='string val'>&quot;netbios&quot;</span>
   <span class='bonjour identifier id'>bonjour</span> <span class='lbrack token'>[</span><span class='string val'>'smb'</span><span class='rbrack token'>]</span>
 <span class='end end kw'>end</span>
</pre>
<p>
# => Result: Exception error. because we cant mix and match types with the
implicit &#8220;Listeners&#8221; key. If in doubt then avoid using the
arrays.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/plist4r/plist_type/launchd.rb', line 540</span>

<span class='def def kw'>def</span> <span class='socket identifier id'>socket</span> <span class='index_or_key identifier id'>index_or_key</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='index identifier id'>index</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span>
  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='string val'>&quot;Sockets&quot;</span>
  <span class='if if kw'>if</span> <span class='blk identifier id'>blk</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='colon3 op'>::</span><span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='OrderedHash constant id'>OrderedHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='sockets identifier id'>sockets</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='LaunchdPlistStructs constant id'>LaunchdPlistStructs</span><span class='colon2 op'>::</span><span class='Sockets constant id'>Sockets</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  
    <span class='case case kw'>case</span> <span class='index_or_key identifier id'>index_or_key</span>
    <span class='when when kw'>when</span> <span class='nil nil kw'>nil</span>
      <span class='sockets identifier id'>sockets</span><span class='dot token'>.</span><span class='add_socket identifier id'>add_socket</span> <span class='symbol val'>:implicit</span><span class='comma token'>,</span> <span class='string val'>&quot;Listeners&quot;</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span>
    <span class='when when kw'>when</span> <span class='String constant id'>String</span>
      <span class='socket_key identifier id'>socket_key</span> <span class='assign token'>=</span> <span class='index_or_key identifier id'>index_or_key</span>
      <span class='unless unless kw'>unless</span> <span class='index identifier id'>index</span><span class='dot token'>.</span><span class='class identifier id'>class</span> <span class='eq op'>==</span> <span class='Fixnum constant id'>Fixnum</span>
        <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid sockect index: #{method_name} #{socket_key} #{index.inspect}. Should be: #{method_name} &lt;socket_key&gt; &lt;socket_index&gt; &amp;blk&quot;</span>          
      <span class='end end kw'>end</span>
      <span class='socket_index identifier id'>socket_index</span> <span class='assign token'>=</span> <span class='index identifier id'>index</span>
      <span class='sockets identifier id'>sockets</span><span class='dot token'>.</span><span class='add_socket identifier id'>add_socket</span> <span class='symbol val'>:explicit</span><span class='comma token'>,</span> <span class='socket_key identifier id'>socket_key</span><span class='comma token'>,</span> <span class='socket_index identifier id'>socket_index</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span>
    <span class='when when kw'>when</span> <span class='Fixnum constant id'>Fixnum</span>
      <span class='socket_index identifier id'>socket_index</span> <span class='assign token'>=</span> <span class='index_or_key identifier id'>index_or_key</span>
      <span class='sockets identifier id'>sockets</span><span class='dot token'>.</span><span class='add_socket identifier id'>add_socket</span> <span class='symbol val'>:implicit</span><span class='comma token'>,</span> <span class='string val'>&quot;Listeners&quot;</span><span class='comma token'>,</span> <span class='socket_index identifier id'>socket_index</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span>        
    <span class='else else kw'>else</span>
      <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid socket key: #{method_name} #{index_or_key.inspect}. Should be: #{method_name} &lt;socket_key&gt; &amp;blk&quot;</span>
    <span class='end end kw'>end</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='sockets identifier id'>sockets</span>
  <span class='else else kw'>else</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>

    
      <div class="method_details " id="soft_resource_limits-instance_method">
  <p class="signature "">
  
    - (<tt><a href="../../Object.html" title="Object (class)">Object</a></tt>) <strong>soft_resource_limits</strong>(value = nil, &amp;blk) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='soft_resource_limits identifier id'>soft_resource_limits</span> <span class='lbrace token'>{</span> <span class='block_of_keys identifier id'>block_of_keys</span> <span class='rbrace token'>}</span>
  <span class='soft_resource_limits identifier id'>soft_resource_limits</span> <span class='minus op'>-</span><span class='gt op'>&gt;</span> <span class='hash identifier id'>hash</span> <span class='or or kw'>or</span> <span class='nil nil kw'>nil</span>
</pre>
<p>
soft_resource_limits <block of keys> Resource limits to be imposed on the
job. These adjust variables set with setrlimit(2). The following keys
apply:
</p>
<p>
soft_resource_limits do
</p>
<pre class="code">
  <span class='Core constant id'>Core</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='largest identifier id'>largest</span> <span class='size identifier id'>size</span> <span class='lparen token'>(</span><span class='in in kw'>in</span> <span class='bytes identifier id'>bytes</span><span class='rparen token'>)</span> <span class='core identifier id'>core</span> <span class='file identifier id'>file</span> <span class='that identifier id'>that</span> <span class='may identifier id'>may</span> <span class='be identifier id'>be</span> <span class='created identifier id'>created</span><span class='dot token'>.</span>

  <span class='CPU constant id'>CPU</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='maximum identifier id'>maximum</span> <span class='amount identifier id'>amount</span> <span class='of identifier id'>of</span> <span class='cpu identifier id'>cpu</span> <span class='time identifier id'>time</span> <span class='lparen token'>(</span><span class='in in kw'>in</span> <span class='seconds identifier id'>seconds</span><span class='rparen token'>)</span> <span class='to identifier id'>to</span> <span class='be identifier id'>be</span> <span class='used identifier id'>used</span> <span class='by identifier id'>by</span> <span class='each identifier id'>each</span> <span class='process identifier id'>process</span><span class='dot token'>.</span>

  <span class='Data constant id'>Data</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='maximum identifier id'>maximum</span> <span class='size identifier id'>size</span> <span class='lparen token'>(</span><span class='in in kw'>in</span> <span class='bytes identifier id'>bytes</span><span class='rparen token'>)</span> <span class='of identifier id'>of</span> <span class='the identifier id'>the</span> <span class='data identifier id'>data</span> <span class='segment identifier id'>segment</span> <span class='for for kw'>for</span> <span class='a identifier id'>a</span> <span class='process identifier id'>process</span><span class='semicolon token'>;</span> <span class='this identifier id'>this</span> <span class='defines identifier id'>defines</span> <span class='how identifier id'>how</span> <span class='far identifier id'>far</span> <span class='a identifier id'>a</span> <span class='program identifier id'>program</span> <span class='may identifier id'>may</span> <span class='extend identifier id'>extend</span> <span class='its identifier id'>its</span> <span class='break break kw'>break</span> <span class='with identifier id'>with</span> <span class='the identifier id'>the</span> <span class='sbrk identifier id'>sbrk</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='system identifier id'>system</span> <span class='call identifier id'>call</span><span class='dot token'>.</span>

  <span class='FileSize constant id'>FileSize</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='largest identifier id'>largest</span> <span class='size identifier id'>size</span> <span class='lparen token'>(</span><span class='in in kw'>in</span> <span class='bytes identifier id'>bytes</span><span class='rparen token'>)</span> <span class='file identifier id'>file</span> <span class='that identifier id'>that</span> <span class='may identifier id'>may</span> <span class='be identifier id'>be</span> <span class='created identifier id'>created</span><span class='dot token'>.</span>

  <span class='MemoryLock constant id'>MemoryLock</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='maximum identifier id'>maximum</span> <span class='size identifier id'>size</span> <span class='lparen token'>(</span><span class='in in kw'>in</span> <span class='bytes identifier id'>bytes</span><span class='rparen token'>)</span> <span class='which identifier id'>which</span> <span class='a identifier id'>a</span> <span class='process identifier id'>process</span> <span class='may identifier id'>may</span> <span class='lock identifier id'>lock</span> <span class='into identifier id'>into</span> <span class='memory identifier id'>memory</span> <span class='using identifier id'>using</span> <span class='the identifier id'>the</span> <span class='mlock identifier id'>mlock</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='function identifier id'>function</span><span class='dot token'>.</span>

  <span class='NumberOfFiles constant id'>NumberOfFiles</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='maximum identifier id'>maximum</span> <span class='number identifier id'>number</span> <span class='of identifier id'>of</span> <span class='open identifier id'>open</span> <span class='files identifier id'>files</span> <span class='for for kw'>for</span> <span class='this identifier id'>this</span> <span class='process identifier id'>process</span><span class='dot token'>.</span>  <span class='Setting constant id'>Setting</span> <span class='this identifier id'>this</span> <span class='value identifier id'>value</span> <span class='in in kw'>in</span> <span class='a identifier id'>a</span> <span class='system identifier id'>system</span> <span class='wide identifier id'>wide</span> <span class='daemon identifier id'>daemon</span> <span class='will identifier id'>will</span> <span class='set identifier id'>set</span> <span class='the identifier id'>the</span> <span class='sysctl identifier id'>sysctl</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span> <span class='kern identifier id'>kern</span><span class='dot token'>.</span><span class='maxfiles identifier id'>maxfiles</span> <span class='lparen token'>(</span><span class='SoftResourceLimits constant id'>SoftResourceLimits</span><span class='rparen token'>)</span> <span class='or or kw'>or</span>
  <span class='kern identifier id'>kern</span><span class='dot token'>.</span><span class='maxfilesperproc identifier id'>maxfilesperproc</span> <span class='lparen token'>(</span><span class='HardResourceLimits constant id'>HardResourceLimits</span><span class='rparen token'>)</span> <span class='value identifier id'>value</span> <span class='in in kw'>in</span> <span class='addition identifier id'>addition</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span> <span class='setrlimit identifier id'>setrlimit</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='values identifier id'>values</span><span class='dot token'>.</span>

  <span class='NumberOfProcesses constant id'>NumberOfProcesses</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='maximum identifier id'>maximum</span> <span class='number identifier id'>number</span> <span class='of identifier id'>of</span> <span class='simultaneous identifier id'>simultaneous</span> <span class='processes identifier id'>processes</span> <span class='for for kw'>for</span> <span class='this identifier id'>this</span> <span class='user identifier id'>user</span> <span class='id identifier id'>id</span><span class='dot token'>.</span>  <span class='Setting constant id'>Setting</span> <span class='this identifier id'>this</span> <span class='value identifier id'>value</span> <span class='in in kw'>in</span> <span class='a identifier id'>a</span> <span class='system identifier id'>system</span> <span class='wide identifier id'>wide</span> <span class='daemon identifier id'>daemon</span> <span class='will identifier id'>will</span> <span class='set identifier id'>set</span> <span class='the identifier id'>the</span> <span class='sysctl identifier id'>sysctl</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span> <span class='kern identifier id'>kern</span><span class='dot token'>.</span><span class='maxproc identifier id'>maxproc</span> <span class='lparen token'>(</span><span class='SoftResource constant id'>SoftResource</span><span class='minus op'>-</span>
  <span class='Limits constant id'>Limits</span><span class='rparen token'>)</span> <span class='or or kw'>or</span> <span class='kern identifier id'>kern</span><span class='dot token'>.</span><span class='maxprocperuid identifier id'>maxprocperuid</span> <span class='lparen token'>(</span><span class='HardResourceLimits constant id'>HardResourceLimits</span><span class='rparen token'>)</span> <span class='value identifier id'>value</span> <span class='in in kw'>in</span> <span class='addition identifier id'>addition</span> <span class='to identifier id'>to</span> <span class='the identifier id'>the</span> <span class='setrlimit identifier id'>setrlimit</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span> <span class='values identifier id'>values</span><span class='dot token'>.</span>

  <span class='ResidentSetSize constant id'>ResidentSetSize</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='maximum identifier id'>maximum</span> <span class='size identifier id'>size</span> <span class='lparen token'>(</span><span class='in in kw'>in</span> <span class='bytes identifier id'>bytes</span><span class='rparen token'>)</span> <span class='to identifier id'>to</span> <span class='which identifier id'>which</span> <span class='a identifier id'>a</span> <span class='process identifier id'>process</span><span class='string val'>'s resident set size may grow.  This imposes a limit on the amount of physical memory to be given to a process;
  if memory is tight, the system will prefer to take memory from processes that are exceeding their declared resident set size.

  Stack &lt;integer&gt;
  The maximum size (in bytes) of the stack segment for a process; this defines how far a program'</span><span class='s identifier id'>s</span> <span class='stack identifier id'>stack</span> <span class='segment identifier id'>segment</span> <span class='may identifier id'>may</span> <span class='be identifier id'>be</span> <span class='extended identifier id'>extended</span><span class='dot token'>.</span>  <span class='Stack constant id'>Stack</span> <span class='extension identifier id'>extension</span> <span class='is identifier id'>is</span> <span class='performed identifier id'>performed</span>
  <span class='automatically identifier id'>automatically</span> <span class='by identifier id'>by</span> <span class='the identifier id'>the</span> <span class='system identifier id'>system</span><span class='dot token'>.</span>
</pre>
<p>
end
</p>
<p>
Example:
</p>
<p>
soft_resource_limits do
</p>
<pre class="code">
  <span class='NumberOfProcesses constant id'>NumberOfProcesses</span> <span class='integer val'>4</span>
  <span class='NumberOfFiles constant id'>NumberOfFiles</span> <span class='integer val'>512</span>
</pre>
<p>
end
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


258
259
260
261
262
263
264
265
266</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/plist4r/plist_type/launchd.rb', line 258</span>

<span class='def def kw'>def</span> <span class='soft_resource_limits identifier id'>soft_resource_limits</span> <span class='value identifier id'>value</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span>
  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='string val'>&quot;SoftResourceLimits&quot;</span>
  <span class='if if kw'>if</span> <span class='blk identifier id'>blk</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='colon3 op'>::</span><span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='OrderedHash constant id'>OrderedHash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='LaunchdPlistStructs constant id'>LaunchdPlistStructs</span><span class='colon2 op'>::</span><span class='ResourceLimits constant id'>ResourceLimits</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='comma token'>,</span><span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
  <span class='else else kw'>else</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>

    
      <div class="method_details " id="start_calendar_interval-instance_method">
  <p class="signature "">
  
    - (<tt><a href="../../Object.html" title="Object (class)">Object</a></tt>) <strong>start_calendar_interval</strong>(index = nil, &amp;blk) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
:call-seq:
</p>
<pre class="code">
  <span class='start_calendar_interval identifier id'>start_calendar_interval</span><span class='lparen token'>(</span><span class='array_index identifier id'>array_index</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='block_of_keys identifier id'>block_of_keys</span> <span class='rbrace token'>}</span>
  <span class='start_calendar_interval identifier id'>start_calendar_interval</span> <span class='minus op'>-</span><span class='gt op'>&gt;</span> <span class='array identifier id'>array</span> <span class='or or kw'>or</span> <span class='nil nil kw'>nil</span>
</pre>
<p>
start_calendar_interval <array_index=nil> <block of keys> This optional key
causes the job to be started every calendar interval as specified. Missing
arguments are considered to be wildcard. The semantics are much like
crontab(5). Unlike cron which skips job invocations when the computer is
asleep, launchd will start the job the next time the computer wakes up. If
multiple intervals transpire before the computer is woken, those events
will be coalesced into one event upon wake from sleep.
</p>
<p>
start_calendar_interval index=nil do
</p>
<pre class="code">
  <span class='Minute constant id'>Minute</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='minute identifier id'>minute</span> <span class='on identifier id'>on</span> <span class='which identifier id'>which</span> <span class='this identifier id'>this</span> <span class='job identifier id'>job</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='run identifier id'>run</span><span class='dot token'>.</span>

  <span class='Hour constant id'>Hour</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='hour identifier id'>hour</span> <span class='on identifier id'>on</span> <span class='which identifier id'>which</span> <span class='this identifier id'>this</span> <span class='job identifier id'>job</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='run identifier id'>run</span><span class='dot token'>.</span>

  <span class='Day constant id'>Day</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='day identifier id'>day</span> <span class='on identifier id'>on</span> <span class='which identifier id'>which</span> <span class='this identifier id'>this</span> <span class='job identifier id'>job</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='run identifier id'>run</span><span class='dot token'>.</span>

  <span class='Weekday constant id'>Weekday</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='weekday identifier id'>weekday</span> <span class='on identifier id'>on</span> <span class='which identifier id'>which</span> <span class='this identifier id'>this</span> <span class='job identifier id'>job</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='run identifier id'>run</span> <span class='lparen token'>(</span><span class='integer val'>0</span> <span class='and and kw'>and</span> <span class='integer val'>7</span> <span class='are identifier id'>are</span> <span class='Sunday constant id'>Sunday</span><span class='rparen token'>)</span><span class='dot token'>.</span>

  <span class='Month constant id'>Month</span> <span class='lt op'>&lt;</span><span class='integer identifier id'>integer</span><span class='gt op'>&gt;</span>
  <span class='The constant id'>The</span> <span class='month identifier id'>month</span> <span class='on identifier id'>on</span> <span class='which identifier id'>which</span> <span class='this identifier id'>this</span> <span class='job identifier id'>job</span> <span class='will identifier id'>will</span> <span class='be identifier id'>be</span> <span class='run identifier id'>run</span><span class='dot token'>.</span>
</pre>
<p>
end
</p>
<p>
Example:
</p>
<p>
start_calendar_interval 0 do
</p>
<pre class="code">
  <span class='hour identifier id'>hour</span>   <span class='integer val'>02</span>
  <span class='minute identifier id'>minute</span> <span class='integer val'>05</span>
  <span class='day identifier id'>day</span>    <span class='integer val'>06</span>
</pre>
<p>
end
</p>
<p>
start_calendar_interval 1 do
</p>
<pre class="code">
  <span class='hour identifier id'>hour</span>   <span class='integer val'>02</span>
  <span class='minute identifier id'>minute</span> <span class='integer val'>05</span>
  <span class='day identifier id'>day</span>    <span class='integer val'>06</span>
</pre>
<p>
end
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/plist4r/plist_type/launchd.rb', line 185</span>

<span class='def def kw'>def</span> <span class='start_calendar_interval identifier id'>start_calendar_interval</span> <span class='index identifier id'>index</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span>
  <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='string val'>&quot;StartCalendarInterval&quot;</span>
  <span class='unless unless kw'>unless</span> <span class='lbrack token'>[</span><span class='Fixnum constant id'>Fixnum</span><span class='comma token'>,</span><span class='NilClass constant id'>NilClass</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='include? fid id'>include?</span> <span class='index identifier id'>index</span><span class='dot token'>.</span><span class='class identifier id'>class</span>
    <span class='raise identifier id'>raise</span> <span class='dstring node'>&quot;Invalid index: #{method_name} #{index.inspect}. Should be: #{method_name} &lt;integer&gt;&quot;</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='blk identifier id'>blk</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='LaunchdPlistStructs constant id'>LaunchdPlistStructs</span><span class='colon2 op'>::</span><span class='StartCalendarInterval constant id'>StartCalendarInterval</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='comma token'>,</span><span class='index identifier id'>index</span><span class='comma token'>,</span><span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='hash identifier id'>hash</span>
    <span class='if if kw'>if</span> <span class='index identifier id'>index</span>
      <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='index identifier id'>index</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='h identifier id'>h</span>
    <span class='else else kw'>else</span>
      <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='h identifier id'>h</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='@hash ivar id'>@hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>

    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Apr 10 17:19:06 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.4  and the 
  <a href="http://github.com/dreamcat4/yard-slipstream">yard-slipstream</a> plugin
	(ruby-1.8.7).
</div>

  </body>
</html>