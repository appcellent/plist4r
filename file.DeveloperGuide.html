<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>File: DeveloperGuide</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/custom.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<base id="base_target" target="_top" />
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/autocomplete.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>
<script type="text/javascript" charset="utf-8" src="js/live.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="object_index.html" target="_self" title="Index">Index</a> &raquo; 
    <span class="title">File: DeveloperGuide</span>
  
  
  <div class="noframes">
    <span class="title"></span>
    <a id="frames_link" class="link_disabled">Frames</a> | 
    <a target="_top" id="noframes_link" class="link_disabled">No Frames</a>
    <span class="title"></span>
  </div>
</div>

      <div id="search2">
  
  
  <div class="search2_center">
    <form class="search2" onsubmit="return false;" action="">
      <input name="q" type="search" placeholder="Search" id="search_box2" size="30" value="" />
    </form>
  </div>
  <script type="text/javascript" charset="utf-8"> 
    $('#search_box2').focus(function(){
      var search_index = relpath + 'search_index.json';
      jQuery.getJSON(search_index, go_data);

      function go_data(adata) {
        $('#search_box2').autocomplete(adata, {
          width: 300,
          matchContains: true,
          formatItem: function(item) {
            return item.text;
          }
        }).result(function(event, item) {
					if (window.location.search) {
	          window.location.href = relpath + $(item.href_tag).attr("href");
					} else {
	          location.href = relpath + $(item.href_tag).attr("href");
					}
        });
      }
    });
  </script> 
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'><h2>Plist4r Backends</h2>
<p>
There are now a number of ruby libraries which can read / write plist
files. The aim of plist4r is to utilize the individual best features from
all of those libraries, as a series of &#8220;backends&#8221;. And hide
those behind a &#8220;frontend&#8221; that is easy to work with.
</p>
<p>
Backends often only need to be a single ruby file, which implements the
Plist4r API methods and calls out to other (existing) ruby code. No single
backend has to provide the whole API. Instead, Plist4r simply iterates over
all of the backends it knows about, and then calls the first backend that
can responds to the API method.
</p>
<p>
There are only 3 generally recognized Plist file formats. (the gnustep
plist format also goes by the names openstep, and nextstep)
</p>
<pre class="code">
  <span class='FileFormats constant id'>FileFormats</span> <span class='assign token'>=</span> <span class='dstring node'>%w[ binary xml gnustep ]</span>
</pre>
<p>
A plist4r backend can implement any number of these 6 supported API methods
</p>
<pre class="code">
  <span class='ApiMethods constant id'>ApiMethods</span> <span class='assign token'>=</span> <span class='dstring node'>%w[ from_xml from_binary from_gnustep to_xml to_binary to_gnustep ]</span>
</pre>
<p>
Other API methods are &#8220;generated&#8221; methods, which translate the
call onto real backend API methods. A good example is <tt>from_string()</tt>,
which gets resolved to <tt>from_binary</tt> or <tt>from_xml</tt>. Generally
speaking, those <tt><a href="Plist4r/Backend.html#PrivateApiMethods-constant" target="_self" title="Plist4r::Backend::PrivateApiMethods (constant)">Plist4r::Backend::PrivateApiMethods</a></tt> methods are cached and
should not be provided by a Plist4r backend
</p>
<pre class="code">
  <span class='PrivateApiMethods constant id'>PrivateApiMethods</span> <span class='assign token'>=</span> <span class='dstring node'>%w[ from_string open save ]</span>
</pre>
<p>
For backends performance data see <a href="file.Backends.html" target="_self" title="Backends">Backends</a>.
</p>
<h2>Plist4r Types</h2>
<p>
A Plist type can be one of <tt>%w[plist info launchd]</tt>, and is the data type
for the whole plist file. A PlistType can provide special convenience
methods for its Type-specific data structures. For example
<tt><a href="Plist4r/PlistType/Launchd.html#socket-instance_method" target="_self" title="Plist4r::PlistType::Launchd#socket (method)">Plist4r::PlistType::Launchd#socket</a></tt>.
</p>
<p>
We re-use common support objects when writing a new PlistType
</p>
<ul>
<li><tt><a href="Plist4r/PlistType.html" target="_self" title="Plist4r::PlistType (class)">Plist4r::PlistType</a></tt>

</li>
<li><tt><a href="Plist4r/ArrayDict.html" target="_self" title="Plist4r::ArrayDict (class)">Plist4r::ArrayDict</a></tt>

</li>
<li><tt><a href="Plist4r/DataMethods.html" target="_self" title="Plist4r::DataMethods (module)">Plist4r::DataMethods</a></tt>

</li>
</ul>
<h2>Contributing to Plist4r</h2>
<ul>
<li>Fork the project, and create a topic branch as per <a
href="http://wiki.opscode.com/display/opscode/Working<tt>with</tt>Git">these
instructions</a>

</li>
<li>Make the appropriate source code changes

</li>
<li>Raise a new issue in Github Issues, with a name that corresponds to the
topic branch name

</li>
</ul>
<p>
For a change in the <tt><a href="Plist4r.html" target="_self" title="Plist4r (module)">Plist4r</a></tt> Core library
</p>
<ul>
<li>Please update the inline source code documentation, generate locally with
<tt>rake yard</tt>

</li>
<li>Please run the regression tests with <tt>rake spec</tt> and <tt>rake backends:test</tt>

</li>
<li>Please update the existing regression tests (in RSpec) or write new ones

</li>
</ul>
<p>
For a <tt><a href="Plist4r/Backend.html" target="_self" title="Plist4r::Backend (class)">Plist4r::Backend</a></tt>
</p>
<ul>
<li>Please include attribution with an @author tag in the yard inline comments

</li>
<li>If requires new gem dependencies, be add to the Rakefile and run +rake
gemspec+

</li>
</ul>
<p>
For a <tt><a href="Plist4r/PlistType.html" target="_self" title="Plist4r::PlistType (class)">Plist4r::PlistType</a></tt>
</p>
<ul>
<li>Conform to the conventions used by <tt><a href="Plist4r/PlistType/Info.html" target="_self" title="Plist4r::PlistType::Info (class)">Plist4r::PlistType::Info</a></tt> and
<tt><a href="Plist4r/PlistType/Launchd.html" target="_self" title="Plist4r::PlistType::Launchd (class)">Plist4r::PlistType::Launchd</a></tt>

</li>
<li>Use <tt><a href="Plist4r/OrderedHash.html" target="_self" title="Plist4r::OrderedHash (class)">Plist4r::OrderedHash</a></tt> instead of <tt>Hash</tt> or <tt>{}</tt>

</li>
<li>Try to use <tt><a href="Plist4r/DataMethods.html" target="_self" title="Plist4r::DataMethods (module)">Plist4r::DataMethods</a></tt> and <tt><a href="Plist4r/ArrayDict.html" target="_self" title="Plist4r::ArrayDict (class)">Plist4r::ArrayDict</a></tt> for storing the
data

</li>
<li>Use yard to help document any custom key functions and <tt>rake yard</tt>
afterward

</li>
</ul>
</div></div>
    
    <div id="footer">
  Generated on Thu Jul 29 10:50:28 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.8  and the 
  <a href="http://github.com/dreamcat4/yard-slipstream">yard-slipstream</a> plugin
	(ruby-1.8.7).
</div>

  </body>
</html>